<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Creating a Documentation
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
    <meta name="description" content="The blog about all things CSB"/>
    <meta name="author" content="HLWeil"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>

    <!-- CSS -->
    <link type="text/css" rel="stylesheet" href="/CSBlog/content/poole.css" />
    <link type="text/css" rel="stylesheet" href="/CSBlog/content/lanyon.css" />
    <link type="text/css" rel="stylesheet" href="/CSBlog/content/snippets.css" />
    <script type="text/javascript" src="/CSBlog/content/tips.js"></script>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
      <!-- SIDEBAR -->
      <!--Target for toggling the sidebar `.sidebar-checkbox` is for regular
    styles, `#sidebar-checkbox` for behavior. -->
      <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
      <!-- Toggleable sidebar -->
      <div class="sidebar" id="sidebar">
          <div class="sidebar-item">
              <p>The official Blog of the Computational Systems Biology workgroup of the TU Kaiserslautern</p>
          </div>
          <nav class="sidebar-nav">
              <a class="sidebar-nav-item" href="/CSBlog/index.html">Home</a>
              <a class="sidebar-nav-item-inv">Empty</a>
              <a class="sidebar-nav-item" href="/CSBlog/blog.html">BlogPosts</a>
              <a class="sidebar-nav-item" id="hot">Newest Posts</a>
              <a class="sidebar-nav-item" href="/CSBlog/documentation.html">Intro to Documentation</a>
              <a class="sidebar-nav-item-inv">Empty</a>
              <a class="sidebar-nav-item" href="https://github.com/CSBiology">CSB on GitHub</a>
              <a class="sidebar-nav-item" href="http://csb.bio.uni-kl.de/">Official Site</a>
              <a class="sidebar-nav-item" href="/CSBlog/about.html">About</a>
              <span class="sidebar-nav-item">Currently v0.1</span>
          </nav>
          <div class="sidebar-item">
              <p>
                  &copy; hello
              </p>
          </div>
      </div>


      <!-- CONTENT-->

      <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
    content to avoid any CSS collisions with our real content. -->
      <div class="wrap">
          <div class="masthead">
              <div class="container">
                  <h3 class="masthead-title">
                      <a href="index.html" title="Home">CSBlog</a>
                      <small>Computational Systems Biology Blog</small>
                  </h3>
              </div>
          </div>
          <div class="container content">
              
<h1><a name="Creating-a-Documentation" class="anchor" href="#Creating-a-Documentation">Creating a Documentation</a></h1>
<h2><a name="Introduction" class="anchor" href="#Introduction">Introduction</a></h2>
<p>This documentation is aimed at people of the CSB team who want to document their stuff by using the FSharp.Formatting formatter.
There of course is an <a href="http://fsprojects.github.io/FSharp.Formatting/">in depth documentation of how to use FSharp.Formatting by the creators</a>.
Also there's a good overview of the different mark down commands on <a href="https://de.wikipedia.org/wiki/Markdown">wikipedia</a>.
Those things can be very cryptical at the beginning though.
Therefore with this tutorial I want to give a quick and structured introduction into this topic.
For further information check out the aforementioned websites.<br />
The basic structure is as follows:</p>
<ul>
<li><a href="documentation.html#PS">At the start I want to introduce you to the <strong>ProjectScaffold</strong></a></li>
<li><a href="documentation.html#Basics">Afterwards I'll explain <strong>how to get started</strong> and where to find what</a></li>
<li><a href="documentation.html#What">Then I'll give a little introduction on <strong>how you should write the documentian</strong> for your code</a></li>
<li><a href="documentation.html#Legend">I also include a small overview over the <strong>different features</strong> you have with markdown language and the formatted F#</a></li>
<li><a href="documentation.html#Testing">At the end I'll explain <strong>how to test your documentation</strong></a></li>
</ul>
<a name="PS"></a>
<h2><a name="What-is-Project-Scaffold" class="anchor" href="#What-is-Project-Scaffold">What is Project Scaffold?</a></h2>
<p>The libraries of the CSBiology organization are built using the <a href="https://github.com/fsprojects/ProjectScaffold">ProjectScaffold</a>. In principle, this is a blueprint project to make creating and maintaining a F# project easier.
Besides many other features, this includes automatic Documentation via the <a href="https://github.com/fsprojects/FSharp.Formatting">FSharp.Formatting</a> formatter.
This formatter is called when one executes the <strong>build.cmd</strong> which is located in the project folder. Opening this build.cmd does not only compile the project, it also formats the <b>.fsx</b>(FSharp script file) documents to <b>.html</b> documents by using the FSharpFormatting formatter, besides other things.
The script files which are formatted have to be placed in "..<em>project name</em>\docs\content". The formatted html files are then automatically placed in "..<em>project name</em>\docs\output". Keep in mind that by using the build.cmd, those files are built and stored only locally.</p>
<p>Now that that's covered let's get to the important questions:</p>
<a name="Basics"></a>
<h2><a name="Where-to-put-what" class="anchor" href="#Where-to-put-what">Where to put what?</a></h2>
<p>Let's say you want to write a documentation about the topic <code>topic</code></p>
<ul>
<li><p>Place <code>topic.fsx</code> in "..<em>project name</em>\docs\content"</p></li>
<li>
<p>Write the documentation in this <code>topic.fsx</code> as follows</p>
<p><code>(*** hide ***)</code> in front of helpful library calls; Those won't be formatted.<br />
Put text into a comment as follows: /(/<em>/</em> text /*/s). This text will be formatted by markdown<br />
Everything outside those brackets will be formatted as an F#-snippet</p>
</li>
<li>
<p>In the template.cshtml: Put a link to the html using the following line in the place you want your link to be created:</p>
<p><code>&lt;li&gt;&lt;a href="@Root/topic.html"&gt;Topic&lt;/a&gt;&lt;/li&gt;</code>
If you have some experience with HTML, how to do this comes quite naturally. If not, you can either do it via <a href="documentation.html#Testing">Trial and Error</a> or even easier: just ask.</p>
</li>
<li>Commit your changes and create a pull request to the upstream repository. The added htmls will be included in the next release</li>
</ul>
<a name="What"></a>
<h2><a name="What-should-I-write-about" class="anchor" href="#What-should-I-write-about">What should I write about?</a></h2>
<p>Good question! But all good questions of course also have good answers (unfortunately not really).
The people who will read your tutorial are of course the ones who want to use your functions. So your task in the tutorial is basically to tell them <b>how to use</b> it, not necessarily how it works.
The core of your documentation therefore should be code snippets of the function being applied with real values, not snippets of the function definition:</p>
<b class="redText"> Bad Snippet: </b>
As you can see this function takes an int and a string and multiplies every letter in the string by using an enumerator...
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="f">multiplyLetters</span> (<span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">count</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="t">int</span>) (<span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">word</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="t">string</span>) <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">en</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 7)" onmouseover="showTip(event, 'fs4', 7)" class="i">word</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="f">GetEnumerator</span>()
    <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="f">loop</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="i">l</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs6', 11)" onmouseover="showTip(event, 'fs6', 11)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="f">MoveNext</span>() <span class="k">with</span>
        | <span class="k">true</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs8', 13)" onmouseover="showTip(event, 'fs8', 13)" class="f">loop</span> (<span onmouseout="hideTip(event, 'fs9', 14)" onmouseover="showTip(event, 'fs9', 14)" class="i">l</span> <span class="o">@</span> <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="f">init</span> <span onmouseout="hideTip(event, 'fs2', 17)" onmouseover="showTip(event, 'fs2', 17)" class="i">count</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs6', 19)" onmouseover="showTip(event, 'fs6', 19)" class="i">en</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="i">Current</span>))
        | <span class="k">false</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs9', 21)" onmouseover="showTip(event, 'fs9', 21)" class="i">l</span>
    <span onmouseout="hideTip(event, 'fs8', 22)" onmouseover="showTip(event, 'fs8', 22)" class="f">loop</span> []
    <span class="o">|&gt;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs15', 23)" onmouseover="showTip(event, 'fs15', 23)" class="i">chars</span> <span class="k">-&gt;</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs5', 24)" onmouseover="showTip(event, 'fs5', 24)" class="t">string</span> [|<span class="k">for</span> <span onmouseout="hideTip(event, 'fs16', 25)" onmouseover="showTip(event, 'fs16', 25)" class="i">c</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs15', 26)" onmouseover="showTip(event, 'fs15', 26)" class="i">chars</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs16', 27)" onmouseover="showTip(event, 'fs16', 27)" class="i">c</span>|]
  
</code></pre></td>
</tr>
</table>
<p>Showing the definition will just result in the reader to lose a lot of time deciphering your code. The snippet should only show how to apply the function, so that the user can pick it up quick and apply it to his values. What the function does behind the screens should be explained separately.</p>
<b class="greenText"> Good Snippet: </b>
As you can see this function takes an int and a string and multiplies the number of every letter in the string by the int
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 28)" onmouseover="showTip(event, 'fs17', 28)" class="i">originalString</span> <span class="o">=</span> <span class="s">&quot;Hello!&quot;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 29)" onmouseover="showTip(event, 'fs18', 29)" class="i">newString</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 30)" onmouseover="showTip(event, 'fs1', 30)" class="f">multiplyLetters</span> <span class="n">5</span> <span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="i">originalString</span>
</code></pre></td>
</tr>
</table>
<p>In many cases the user will only look for the snippet because he already knows the algorithm but is not sure about how to use the implementation.
Of course also delivering an explanation of the background of your implementation is highly advised. Especially when the algorithms used are not as trivial as the example above. For this you can give a short intro to the topic in general and even include <a href="@Root/Documentation.html#Links">links</a>.</p>
<a name="Legend"></a>
<h2><a name="What-are-the-features" class="anchor" href="#What-are-the-features">What are the features?</a></h2>
<p>As already mentioned, there are already many lists for the standard mark down commands available. A quick google search yields:</p>
<ul>
<li><a href="https://de.wikipedia.org/wiki/Markdown">quick intro by wikipedia</a></li>
<li><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">very in-depth list by adam-p</a></li>
</ul>
<p>For the matter of completion I'll still give a little overview on the different markdown-commands. What's more important here though are the extra features of FSharp.Formatting, which are a bit hard to find otherwise. This includes using <a href="documentation.html#ConsoleOutput">f# interactive output</a> and <a href="documentation.html#Plots">Plots by FSharp.Plotly</a>.</p>
<a name="Headers"></a>
<h3><a name="Headers" class="anchor" href="#Headers">Headers</a></h3>
<p>For headers, you can just put a number of '#' at the start of the line, the header gets smaller, the more '#' you use:</p>
<h1><a name="One-hashtag" class="anchor" href="#One-hashtag">One hashtag</a></h1>
<h2><a name="Two-hashtags" class="anchor" href="#Two-hashtags">Two hashtags</a></h2>
<h3><a name="Three-hashtags" class="anchor" href="#Three-hashtags">Three hashtags</a></h3>
<h4><a name="Four-hashtags" class="anchor" href="#Four-hashtags">Four hashtags</a></h4>
<br>
<a name="Links"></a>
<h3><a name="Links" class="anchor" href="#Links">Links</a></h3>
<p>You can easily link external websites or internal documents.</p>
<p>The basic command for this is
<br>
<code>\[text](link)</code>
<br>
The text you insert into the square brackets will be formatted to a clickable text. When you click it, the link will be opened. What you link to is your choice. You could for example link to external websites:<br />
<code>\[Wikipedia](/https://de.wikipedia.org/wiki/Wikipedia)</code> will be <a href="https://de.wikipedia.org/wiki/Wikipedia">Wikipedia</a>.<br />
On the other hand you can link local files:<br />
<code>\[index](index.html)</code> will be <a href="index.html">index</a></p>
<a name="Images"></a>
<h3><a name="Images" class="anchor" href="#Images">Images</a></h3>
<p>Images are included similarly to normal links, but with a "!" in front of them. So instead of "[text](link)" you use<br />
<code>!\[image name](image link)</code><br />
Again you can link external images with a full url:<br />
<code>!\[Marshmallow](\https://www.sammobile.com/wp-content/uploads/2015/12/android-marshmallow.jpg)</code> will be<br />
<br>
<img src="https://www.sammobile.com/wp-content/uploads/2015/12/android-marshmallow.jpg" alt="Marshmallow" /></p>
<p>On the other hand you can link local files:<br />
<code>!\[logo](img/logo.png)</code> will be <img src="img/logo.png" alt="logo" />
Make sure that the image you want to reference is located at "..<em>project name</em>/docs/files/img". Also at the moment only <strong>.png</strong>s can be used for local referencing because only those are copied to the gh-pages in the building process.</p>
<a name="ConsoleOutput"></a>
<h3><a name="Console-Output" class="anchor" href="#Console-Output">Console Output</a></h3>
<p>With the FSharp.Formatting you can not only include stylized code snippets, but also include console output of the F# interactive.</p>
<p><code>Fixing under way</code></p>
<a name="Plots"></a>
<h3><a name="Plots" class="anchor" href="#Plots">Plots</a></h3>
<a name="Testing"></a>
<h2><a name="How-can-I-test-my-formatted-documentation" class="anchor" href="#How-can-I-test-my-formatted-documentation">How can I test my formatted documentation?</a></h2>
<p>You can play around with the markdown text in an online tool like <a href="http://dillinger.io/">dillinger.io</a>.<br />
This is not really helpful though, if you want to test how the formattet site will look like on the project website. <a href="documentation.html#How">As stated above</a>, the build.cmd will create the <strong>htmls</strong>s of the <strong>fsx</strong> which are located at "..<em>project name</em>\docs\content" and put them into "..<em>project name</em>\docs\output" together with all other needed files.
You can access the htmls there after building, but the references to the css styling files and all other ressources won't work. Therefore you will get a very plain looking, unstyled website.<br />
To bring everything in good form. A new buildtarget "<strong>releaseLocal</strong>" was included in the CSB-projects. To access this target:</p>
<h3><a name="With-VS2015" class="anchor" href="#With-VS2015">With VS2015</a></h3>
<ul>
<li><p>you have to <strong>open your windows command prompt</strong></p></li>
<li>
<p>afterwards <strong>navigate to the repository</strong> with the <code>cd</code> command</p>
<p>e.g. <code>cd C:\Users\*ExampleUser*\Source\Repos\*project name*</code></p>
</li>
<li>
<p>run "<strong>build</strong>"</p>
<p>Besides compiling the repository, this will create the html files. Be sure you already compiled (built) the repository in visual studio.</p>
</li>
<li>
<p>When the build process is finished, run <code>**build releaselocal**</code></p>
<p>This will copy everything from "..<em>project name</em>\docs\output" to "..<em>project name</em>\docs\local" and change the references in the html files.</p>
</li>
</ul>
<p>When this is done, you can just open the html files in the "local" folder and check your formatting.</p>
<h3><a name="With-VS2017" class="anchor" href="#With-VS2017">With VS2017</a></h3>
<p><strong>First try it in the way described above for VS2015. In VS2017 you might have problems with the </strong>build<em></em> process. To circumvent this:</p>
<p>Still in the command prompt:<br />
run <code>.paket\paket.exe update</code><br />
This should update the packages in your project folder. Afterwards try again the <a href="documentation.html#With VS2015">aforementioned workflow</a>
<br><br><br></p>

<div class="tip" id="fs1">val multiplyLetters : count:int -&gt; word:string -&gt; string<br /><br />Full name: Documentation.multiplyLetters</div>
<div class="tip" id="fs2">val count : int</div>
<div class="tip" id="fs3">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs4">val word : string</div>
<div class="tip" id="fs5">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />Full name: Microsoft.FSharp.Core.Operators.string<br /><br />--------------------<br />type string = System.String<br /><br />Full name: Microsoft.FSharp.Core.string</div>
<div class="tip" id="fs6">val en : System.CharEnumerator</div>
<div class="tip" id="fs7">System.String.GetEnumerator() : System.CharEnumerator</div>
<div class="tip" id="fs8">val loop : (char list -&gt; char list)</div>
<div class="tip" id="fs9">val l : char list</div>
<div class="tip" id="fs10">System.CharEnumerator.MoveNext() : bool</div>
<div class="tip" id="fs11">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs12">val init : length:int -&gt; initializer:(int -&gt; &#39;T) -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.init</div>
<div class="tip" id="fs13">val i : int</div>
<div class="tip" id="fs14">property System.CharEnumerator.Current: char</div>
<div class="tip" id="fs15">val chars : char list</div>
<div class="tip" id="fs16">val c : char</div>
<div class="tip" id="fs17">val originalString : string<br /><br />Full name: Documentation.originalString</div>
<div class="tip" id="fs18">val newString : string<br /><br />Full name: Documentation.newString</div>

          </div>
      </div>
      <label for="sidebar-checkbox" class="sidebar-toggle"></label>
      <script>
          (function (document) {
              var toggle = document.querySelector('.sidebar-toggle');
              var sidebar = document.querySelector('#sidebar');
              var checkbox = document.querySelector('#sidebar-checkbox');

              document.addEventListener('click', function (e) {
                  var target = e.target;

                  if (!checkbox.checked ||
                      sidebar.contains(target) ||
                      (target === checkbox || target === toggle)) return;

                  checkbox.checked = false;
              }, false);
            })(document);
    </script>

  </body>
  </html >
