<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Computation expressions: Usage examples</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="">
    <link rel="shortcut icon" type="image/x-icon" href="/CSBlog//img/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="/CSBlog/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/CSBlog/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/CSBlog/content/fsdocs-tips.js"></script>
    <script type="text/javascript" src="/CSBlog/content/init.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-collapsible@1.0.4/dist/js/bulma-collapsible.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-collapsible@1.0.4/dist/css/bulma-collapsible.min.css">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head> 

<body>
    <div class="columns is-fullheight m-0">
        <div id="fsdocs-menu" class="column is-2 is-paddingless">
            <aside class="menu">
                <div class="container is-paddingless is-marginless has-background-dark">
                    <a href="/CSBlog/">
                        <figure class="image is-128x128 container">
                            <img src="/CSBlog/img/logo.png">
                        </figure>
                    </a>
                    <h2 class="title has-text-centered has-text-white pb-4">CSBlog</h2>
                </div>
                <div class="content">
                    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
                    <div id="header">
                        <div class="field">
                            <div class="control has-icons-left has-icons-right searchbox" id="fsdocs-searchbox">
                                <input data-search-input="" id="search-by" type="search" placeholder="Search..." class="input"/>
                                <span class="icon is-small is-left">
                                    <i class="fas fa-search"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- END SEARCH BOX: this adds support for the search box -->
                    <ul class="navbar-nav">
                        <li class="nav-header">
  Overview
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/about.html">
    About
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/blogposts_overview.html">
    Blog posts
  </a>
</li>             
<li class="nav-header">
  Documentation
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/documentation.html">
    Creating a Documentation
  </a>
</li>             
<li class="nav-header">
  Visualization
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/WorkshopSeries_3_plotly.html">
    Introduction to Data visualization using Plotly.NET
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/4_set_relationships.html">
    Visualizing relationships between sets with Plotly.NET
  </a>
</li>             
<li class="nav-header">
  Implementation
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/0_how2JSONSchema.html">
    How to develop and use a JSON Schema
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/consoleTools.html">
    Console apps: Above and beyond
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/1_how2Fable.html">
    How to use Fable
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/3_sequence_features.html">
    Modelling and visualizing sequence features with BioFSharp and Plotly.NET
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/Community_detection_or_Principal_Component_Analysis_- Different_apporaches_to_analyze_big_datasets.html">
    Community detection or Principal Component Analysis - Different apporaches to analyze big datasets
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/Computation_expressions.html">
    Computation expressions: Usage examples
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/6_LabelEfficiencyCalculator.html">
    Label Efficiency Calculator
  </a>
</li>             
<li class="nav-header">
  Learning resources
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/4_qvalues.html">
    q values
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/5_devcontainer_arc.html">
    VS Code Remote-Container and the ARC
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/7_SAM.html">
    SAM
  </a>
</li>
                    </ul>
                </div>
            </aside>
        </div>
        <div class="column is-10 is-paddingless">
            <div class="section pt-4">
                <div class="container" id="fsdocs-content">
                    
<h1><a name="Computation-expressions-Usage-examples" class="anchor" href="#Computation-expressions-Usage-examples">Computation expressions: Usage examples</a></h1>
<p><em><a href="https://github.com/hlweil">Heinrich Lukas Weil</a></em></p>
<h2><a name="Content" class="anchor" href="#Content">Content</a></h2>
<ul>
<li><a href="#What-are-Computation-expressions?">What are Computation expressions?</a></li>
<li>
<a href="#Bind-based-computation-expressions">Bind based computation expressions</a>
<ul>
<li><a href="#Option-builder">Option builder</a></li>
</ul>
</li>
<li>
<a href="#Yield-based-computation-expressions">Yield based computation expressions</a>
<ul>
<li><a href="#List-builder">List builder</a></li>
<li><a href="#Extended-List-builder">Extended list builder</a></li>
<li><a href="#Math-builder">Math builder</a></li>
</ul>
</li>
<li>
<a href="#Custom-Operator-based-computation-expressions">Custom Operator based computation expressions</a>
<ul>
<li><a href="#Cake-builder">Cake builder</a></li>
</ul>
</li>
<li><a href="#Further-reading">Further reading</a></li>
</ul>
<h2><a name="What-are-Computation-expressions" class="anchor" href="#What-are-Computation-expressions">What are Computation expressions?</a></h2>
<p>This question has been thoroughly answered in technical precision in many places over the internet (Check out <a href="#Further-reading">Further reading</a>). My aim here is not trying to give a better explanation.
Instead, in this blogpost, I want to focus on practicle use cases of computation expressions. So, to answer this question in the context of this blogbost:</p>
<p><em>Computation expressions are a versatile tool to express complex behaviour in a simple syntax</em>.
You open a computation expression (CE) with the following syntax:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="id">computation</span><span class="o">-</span><span class="id">expression</span><span class="o">-</span><span class="id">name</span> <span class="pn">{</span><span class="id">computation</span><span class="o">-</span><span class="id">expression</span><span class="o">-</span><span class="id">body</span><span class="pn">}</span>
</code></pre>
<p>Inside these <code>{ }</code> brackets, an encapsulated environment with its own set of predefined rules exist.
These rules create a behaviour in the background that can be complex or simple, while exposing an easy to grasp language to the user.
An user can also create their own <code>Computation expression builder</code> with it`s own set of behaviours for every function.
There are around 20 different Members with predefined names a programmer can implement, exposing around 10 different keywords to the user. The full list can be found <a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/computation-expressions#creating-a-new-type-of-computation-expression">here</a>.</p>
<p>The possibilities for different computation expressions are basically limitless. As a starting point for programmers new to computation expressions I therefore want to present a few often used ways for creating their own Computation Expression builder.</p>
<h2><a name="Bind-based-computation-expressions" class="anchor" href="#Bind-based-computation-expressions"><em>Bind</em> based computation expressions</a></h2>
<h3><a name="Introduction" class="anchor" href="#Introduction">Introduction</a></h3>
<p>Bind based computation expressions make especially use of the <code>let!</code> and the <code>return</code> keywords.</p>
<p>Here is an example for an 'async' computation expression, taken from <a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/computation-expressions">the official F# reference</a>:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="fn">fetchAndDownload</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="fn">url</span> <span class="o">=</span>
    <span class="c">// Keyword for starting the async computation expression</span>
    <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="k">async</span> <span class="pn">{</span>

        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="d">client</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="id">Net</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="id">WebClient</span><span class="pn">(</span><span class="pn">)</span>

        <span class="c">// client.AsyncDownloadData returns a value of type Async&lt;byte []&gt;.</span>
        <span class="c">// but by using the let! keyword, bound to &quot;data&quot; is actually the unwrapped inner value of type byte [].</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="fn">data</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 9)" onmouseover="showTip(event, 'fs4', 9)" class="d">client</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="id">AsyncDownloadData</span> <span onmouseout="hideTip(event, 'fs2', 11)" onmouseover="showTip(event, 'fs2', 11)" class="fn">url</span>

        <span class="c">// This unwrapped value can then conveniently fed into a follow up function.</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="fn">processedData</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs5', 13)" onmouseover="showTip(event, 'fs5', 13)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="id">Text</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="rt">Encoding</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="id">ASCII</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 17)" onmouseover="showTip(event, 'fs14', 17)" class="id">GetString</span> <span onmouseout="hideTip(event, 'fs8', 18)" onmouseover="showTip(event, 'fs8', 18)" class="fn">data</span>

        <span class="c">// The computation expression is finished by returning the result string.</span>
        <span class="c">// This value is again wrapped in the Async wrapper type, resulting in a return value of type Async&lt;string&gt;.</span>
        <span class="k">return</span> <span onmouseout="hideTip(event, 'fs10', 19)" onmouseover="showTip(event, 'fs10', 19)" class="fn">processedData</span>
    <span class="pn">}</span>
</code></pre>
<p>The main idea here is, that you can work on the return values directly, rather than on the values wrapped into the Async type.
All the waiting for the thread to finish, wrapping and unwrapping is done implicitly for you, simply by using the <code>let!</code> keyword.</p>
<p><img src="../img/CE_Bind.png" alt="" /></p>
<h3><a name="Option-builder" class="anchor" href="#Option-builder">Option builder</a></h3>
<p>So, let's get started creating our own Computation expression builder. This option builder again can be</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs15', 20)" onmouseover="showTip(event, 'fs15', 20)" class="rt">OptionBuilder</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>

    <span class="c">// Return method wraps the final return value in an option</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs16', 21)" onmouseover="showTip(event, 'fs16', 21)" class="fn">this</span><span class="pn">.</span><span class="fn">Return</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs17', 22)" onmouseover="showTip(event, 'fs17', 22)" class="fn">value</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span><span class="pn">)</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs18', 23)" onmouseover="showTip(event, 'fs18', 23)" class="rt">Option</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 24)" onmouseover="showTip(event, 'fs19', 24)" class="fn">printfn</span> <span class="s">$&quot;Return {</span><span onmouseout="hideTip(event, 'fs17', 25)" onmouseover="showTip(event, 'fs17', 25)" class="fn">value</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs20', 26)" onmouseover="showTip(event, 'fs20', 26)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs17', 27)" onmouseover="showTip(event, 'fs17', 27)" class="fn">value</span>

    <span class="c">// Bind method contains logic for unwrapping the option value and expects an expression that has an option as an return value</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs16', 28)" onmouseover="showTip(event, 'fs16', 28)" class="fn">this</span><span class="pn">.</span><span class="fn">Bind</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs21', 29)" onmouseover="showTip(event, 'fs21', 29)" class="fn">wrappedValue</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs22', 30)" onmouseover="showTip(event, 'fs22', 30)" class="rt">option</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs23', 31)" onmouseover="showTip(event, 'fs23', 31)" class="fn">f</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span class="k">-&gt;</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs22', 32)" onmouseover="showTip(event, 'fs22', 32)" class="rt">option</span><span class="pn">)</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs22', 33)" onmouseover="showTip(event, 'fs22', 33)" class="rt">option</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 34)" onmouseover="showTip(event, 'fs19', 34)" class="fn">printfn</span> <span class="s">$&quot;Bind {</span><span onmouseout="hideTip(event, 'fs21', 35)" onmouseover="showTip(event, 'fs21', 35)" class="fn">wrappedValue</span><span class="s">}&quot;</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs21', 36)" onmouseover="showTip(event, 'fs21', 36)" class="fn">wrappedValue</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs20', 37)" onmouseover="showTip(event, 'fs20', 37)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs24', 38)" onmouseover="showTip(event, 'fs24', 38)" class="fn">unwrappedValue</span> <span class="k">-&gt;</span> 
            <span onmouseout="hideTip(event, 'fs23', 39)" onmouseover="showTip(event, 'fs23', 39)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs24', 40)" onmouseover="showTip(event, 'fs24', 40)" class="fn">unwrappedValue</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs25', 41)" onmouseover="showTip(event, 'fs25', 41)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs25', 42)" onmouseover="showTip(event, 'fs25', 42)" class="uc">None</span>

<span class="c">// For easier initialization of the computation expression</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 43)" onmouseover="showTip(event, 'fs26', 43)" class="id">option</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 44)" onmouseover="showTip(event, 'fs15', 44)" class="fn">OptionBuilder</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<p>This is an very easy implementation that can be used to work on optional values in an easy way.
Inside the initialized computation expression, the <code>Return</code> method can be called by using the <code>return</code> keyword. The <code>Bind</code> method can be called by using the <code>let!</code> keyword.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 45)" onmouseover="showTip(event, 'fs27', 45)" class="fn">addOptions</span> <span onmouseout="hideTip(event, 'fs28', 46)" onmouseover="showTip(event, 'fs28', 46)" class="fn">aO</span> <span onmouseout="hideTip(event, 'fs29', 47)" onmouseover="showTip(event, 'fs29', 47)" class="fn">bO</span> <span onmouseout="hideTip(event, 'fs30', 48)" onmouseover="showTip(event, 'fs30', 48)" class="fn">cO</span> <span class="o">=</span> 

    <span onmouseout="hideTip(event, 'fs26', 49)" onmouseover="showTip(event, 'fs26', 49)" class="k">option</span> <span class="pn">{</span>

        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs31', 50)" onmouseover="showTip(event, 'fs31', 50)" class="fn">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 51)" onmouseover="showTip(event, 'fs28', 51)" class="fn">aO</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs32', 52)" onmouseover="showTip(event, 'fs32', 52)" class="fn">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs29', 53)" onmouseover="showTip(event, 'fs29', 53)" class="fn">bO</span>
        <span class="k">let!</span> <span onmouseout="hideTip(event, 'fs33', 54)" onmouseover="showTip(event, 'fs33', 54)" class="fn">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs30', 55)" onmouseover="showTip(event, 'fs30', 55)" class="fn">cO</span>

        <span class="k">return</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs31', 56)" onmouseover="showTip(event, 'fs31', 56)" class="fn">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs32', 57)" onmouseover="showTip(event, 'fs32', 57)" class="fn">b</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs33', 58)" onmouseover="showTip(event, 'fs33', 58)" class="fn">c</span><span class="pn">)</span>
    <span class="pn">}</span>


<span onmouseout="hideTip(event, 'fs27', 59)" onmouseover="showTip(event, 'fs27', 59)" class="fn">addOptions</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 60)" onmouseover="showTip(event, 'fs20', 60)" class="uc">Some</span> <span class="n">5</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 61)" onmouseover="showTip(event, 'fs20', 61)" class="uc">Some</span> <span class="n">4</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 62)" onmouseover="showTip(event, 'fs20', 62)" class="uc">Some</span> <span class="n">10</span><span class="pn">)</span>

<span class="c">//Bind Some(5)</span>
<span class="c">//Bind Some(4)</span>
<span class="c">//Bind Some(10)</span>
<span class="c">//Return 19</span>
<span class="c">//val it : int option = Some 19</span>

<span onmouseout="hideTip(event, 'fs27', 63)" onmouseover="showTip(event, 'fs27', 63)" class="fn">addOptions</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 64)" onmouseover="showTip(event, 'fs20', 64)" class="uc">Some</span> <span class="n">5</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs25', 65)" onmouseover="showTip(event, 'fs25', 65)" class="uc">None</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 66)" onmouseover="showTip(event, 'fs20', 66)" class="uc">Some</span> <span class="n">10</span><span class="pn">)</span>

<span class="c">//Bind Some(5)</span>
<span class="c">//Bind </span>
<span class="c">//val it : int option = None</span>
</code></pre>
<p>As expected, in the first case, the <code>Bind</code> method gets called <code>3 times</code>, and the resulting value is 19.</p>
<p>In the second case, the resulting <code>None</code> was also expected. What is interesting to notice here,
is that the <code>Bind</code> method gets called only two times.
This can actually be a great feature, as in cases like these, you don't want the program to continue executing when something doesn't work out.
This is especially the case, when each computation is time intensive.</p>
<p>A good explanation for why this happens can be found <a href="https://en.wikibooks.org/wiki/F_Sharp_Programming/Computation_Expressions#:~:text=an%20imperative%20style.-,The%20Maybe%20Monad,-A%20well%2Dknown">here</a></p>
<h2><a name="Yield-based-computation-expressions" class="anchor" href="#Yield-based-computation-expressions"><em>Yield</em> based computation expressions</a></h2>
<h3><a name="Introduction-1" class="anchor" href="#Introduction-1">Introduction</a></h3>
<p>Yield based computation expressions make especially use of the <code>yield</code>, <code>yield!</code> and <code>for</code> keywords.</p>
<p>The main aim here is usually collecting values and returning some kind of collection.</p>
<p>Here is an example for a <code>seq</code> computation expression:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs34', 67)" onmouseover="showTip(event, 'fs34', 67)" class="fn">seq</span> <span class="pn">{</span>
    <span class="c">// Implicit yielding of single values</span>
    <span class="n">1</span>
    <span class="n">2</span>
    <span class="n">3</span>
    <span class="c">// Explicit yielding of a collection</span>
    <span class="k">yield!</span> <span class="pn">[</span><span class="n">4</span><span class="pn">;</span><span class="n">5</span><span class="pn">;</span><span class="n">6</span><span class="pn">]</span>
<span class="pn">}</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs35', 68)" onmouseover="showTip(event, 'fs35', 68)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 69)" onmouseover="showTip(event, 'fs36', 69)" class="id">toList</span>
</code></pre>
<p>The basic structure of operations performed in the seq computation expression can be seen in the following picture.
Each value get's yielded seperately and then combined step by step into a single sequence.</p>
<p><img src="../img/CE_Yield.png" alt="" /></p>
<h3><a name="List-builder" class="anchor" href="#List-builder">List builder</a></h3>
<p>So let's build our own bare minimum list builder:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs37', 70)" onmouseover="showTip(event, 'fs37', 70)" class="rt">ListBuilder</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> 

    <span class="c">/// This will be exposed to the user as `yield`</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs38', 71)" onmouseover="showTip(event, 'fs38', 71)" class="fn">this</span><span class="pn">.</span><span class="fn">Yield</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs39', 72)" onmouseover="showTip(event, 'fs39', 72)" class="fn">v</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 73)" onmouseover="showTip(event, 'fs19', 73)" class="fn">printfn</span> <span class="s">$&quot;Yield {</span><span onmouseout="hideTip(event, 'fs39', 74)" onmouseover="showTip(event, 'fs39', 74)" class="fn">v</span><span class="s">}&quot;</span>
        <span class="pn">[</span><span onmouseout="hideTip(event, 'fs39', 75)" onmouseover="showTip(event, 'fs39', 75)" class="fn">v</span><span class="pn">]</span>

    <span class="c">/// This will combine the yielded values in the background</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs38', 76)" onmouseover="showTip(event, 'fs38', 76)" class="fn">this</span><span class="pn">.</span><span class="fn">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 77)" onmouseover="showTip(event, 'fs40', 77)" class="fn">v1</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs41', 78)" onmouseover="showTip(event, 'fs41', 78)" class="rt">list</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs42', 79)" onmouseover="showTip(event, 'fs42', 79)" class="fn">v2</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs41', 80)" onmouseover="showTip(event, 'fs41', 80)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 81)" onmouseover="showTip(event, 'fs19', 81)" class="fn">printfn</span> <span class="s">$&quot;Combine {</span><span onmouseout="hideTip(event, 'fs40', 82)" onmouseover="showTip(event, 'fs40', 82)" class="fn">v1</span><span class="s">} with {</span><span class="fn">v2</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs40', 83)" onmouseover="showTip(event, 'fs40', 83)" class="fn">v1</span> <span class="o">@</span> <span onmouseout="hideTip(event, 'fs42', 84)" onmouseover="showTip(event, 'fs42', 84)" class="fn">v2</span>

    <span class="c">/// This method is needed. It can be used to lazily evaluate the operations in the CE. Instead here, we just directly execute the given function.</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs38', 85)" onmouseover="showTip(event, 'fs38', 85)" class="fn">this</span><span class="pn">.</span><span class="fn">Delay</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs43', 86)" onmouseover="showTip(event, 'fs43', 86)" class="fn">f</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs44', 87)" onmouseover="showTip(event, 'fs44', 87)" class="rt">unit</span> <span class="k">-&gt;</span> <span class="ta">&#39;</span><span class="id">T</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 88)" onmouseover="showTip(event, 'fs19', 88)" class="fn">printfn</span> <span class="s">$&quot;Delay&quot;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 89)" onmouseover="showTip(event, 'fs45', 89)" class="fn">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 90)" onmouseover="showTip(event, 'fs43', 90)" class="fn">f</span><span class="pn">(</span><span class="pn">)</span>
        <span onmouseout="hideTip(event, 'fs19', 91)" onmouseover="showTip(event, 'fs19', 91)" class="fn">printfn</span> <span class="s">$&quot;Delay result: {</span><span onmouseout="hideTip(event, 'fs45', 92)" onmouseover="showTip(event, 'fs45', 92)" class="fn">res</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs45', 93)" onmouseover="showTip(event, 'fs45', 93)" class="fn">res</span>

<span class="c">// For easier initialization of the computation expression</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 94)" onmouseover="showTip(event, 'fs46', 94)" class="id">list</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 95)" onmouseover="showTip(event, 'fs37', 95)" class="fn">ListBuilder</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<p>So let's test it out</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs46', 96)" onmouseover="showTip(event, 'fs46', 96)" class="k">list</span> <span class="pn">{</span>
    <span class="n">1</span>
    <span class="n">2</span>
    <span class="n">3</span>
<span class="pn">}</span>

<span class="c">//Delay</span>
<span class="c">//Yield 1</span>
<span class="c">//Delay</span>
<span class="c">//Yield 2</span>
<span class="c">//Delay</span>
<span class="c">//Yield 3</span>
<span class="c">//Delay result: [3]</span>
<span class="c">//Combine [2] with [3]</span>
<span class="c">//Delay result: [2; 3]</span>
<span class="c">//Combine [1] with [2; 3]</span>
<span class="c">//Delay result: [1; 2; 3]</span>
<span class="c">//val it : int list = [1; 2; 3]</span>
</code></pre>
<p>Something to note here is that the <code>yielding</code> takes place from <code>top to bottom</code>, while the <code>combining</code> is actually done from <code>bottom to top</code>.</p>
<h3><a name="Extended-list-builder" class="anchor" href="#Extended-list-builder">Extended list builder</a></h3>
<p>Of course in many cases you don't only want to yield single values but also expect more complex programming constructs to be usable.
In the following is shown an extended version of the previously implemented list builder:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs47', 97)" onmouseover="showTip(event, 'fs47', 97)" class="rt">ExtendedListBuilder</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> 

    <span class="c">/// This will be exposed to the user as `yield`</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs48', 98)" onmouseover="showTip(event, 'fs48', 98)" class="fn">this</span><span class="pn">.</span><span class="fn">Yield</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs39', 99)" onmouseover="showTip(event, 'fs39', 99)" class="fn">v</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 100)" onmouseover="showTip(event, 'fs19', 100)" class="fn">printfn</span> <span class="s">$&quot;Yield {</span><span onmouseout="hideTip(event, 'fs39', 101)" onmouseover="showTip(event, 'fs39', 101)" class="fn">v</span><span class="s">}&quot;</span>
        <span class="pn">[</span><span onmouseout="hideTip(event, 'fs39', 102)" onmouseover="showTip(event, 'fs39', 102)" class="fn">v</span><span class="pn">]</span>

    <span class="c">/// This will combine the yielded values in the background</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs48', 103)" onmouseover="showTip(event, 'fs48', 103)" class="fn">this</span><span class="pn">.</span><span class="fn">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 104)" onmouseover="showTip(event, 'fs40', 104)" class="fn">v1</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs46', 105)" onmouseover="showTip(event, 'fs46', 105)" class="rt">list</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs42', 106)" onmouseover="showTip(event, 'fs42', 106)" class="fn">v2</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs46', 107)" onmouseover="showTip(event, 'fs46', 107)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 108)" onmouseover="showTip(event, 'fs19', 108)" class="fn">printfn</span> <span class="s">$&quot;Combine {</span><span onmouseout="hideTip(event, 'fs40', 109)" onmouseover="showTip(event, 'fs40', 109)" class="fn">v1</span><span class="s">} with {</span><span class="fn">v2</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs40', 110)" onmouseover="showTip(event, 'fs40', 110)" class="fn">v1</span> <span class="o">@</span> <span onmouseout="hideTip(event, 'fs42', 111)" onmouseover="showTip(event, 'fs42', 111)" class="fn">v2</span>

    <span class="c">/// This method is needed. It can be used to lazily evaluate the operations in the CE. Instead here, we just directly execute the given function.</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs48', 112)" onmouseover="showTip(event, 'fs48', 112)" class="fn">this</span><span class="pn">.</span><span class="fn">Delay</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs43', 113)" onmouseover="showTip(event, 'fs43', 113)" class="fn">f</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs44', 114)" onmouseover="showTip(event, 'fs44', 114)" class="rt">unit</span> <span class="k">-&gt;</span> <span class="ta">&#39;</span><span class="id">T</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 115)" onmouseover="showTip(event, 'fs19', 115)" class="fn">printfn</span> <span class="s">$&quot;Delay&quot;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 116)" onmouseover="showTip(event, 'fs45', 116)" class="fn">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 117)" onmouseover="showTip(event, 'fs43', 117)" class="fn">f</span><span class="pn">(</span><span class="pn">)</span>
        <span onmouseout="hideTip(event, 'fs19', 118)" onmouseover="showTip(event, 'fs19', 118)" class="fn">printfn</span> <span class="s">$&quot;Delay result: {</span><span onmouseout="hideTip(event, 'fs45', 119)" onmouseover="showTip(event, 'fs45', 119)" class="fn">res</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs45', 120)" onmouseover="showTip(event, 'fs45', 120)" class="fn">res</span>

    <span class="c">/// Is called in empty else branches</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs48', 121)" onmouseover="showTip(event, 'fs48', 121)" class="fn">this</span><span class="pn">.</span><span class="fn">Zero</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 122)" onmouseover="showTip(event, 'fs19', 122)" class="fn">printfn</span> <span class="s">&quot;Zero&quot;</span>
        <span class="pn">[</span><span class="pn">]</span>

    <span class="c">/// Allows for using for loops in the computation expression</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs48', 123)" onmouseover="showTip(event, 'fs48', 123)" class="fn">this</span><span class="pn">.</span><span class="fn">For</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs49', 124)" onmouseover="showTip(event, 'fs49', 124)" class="fn">vs</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">U</span> <span onmouseout="hideTip(event, 'fs34', 125)" onmouseover="showTip(event, 'fs34', 125)" class="if">seq</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs50', 126)" onmouseover="showTip(event, 'fs50', 126)" class="fn">f</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">U</span> <span class="k">-&gt;</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs46', 127)" onmouseover="showTip(event, 'fs46', 127)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 128)" onmouseover="showTip(event, 'fs19', 128)" class="fn">printfn</span> <span class="s">$&quot;For&quot;</span>
        <span onmouseout="hideTip(event, 'fs49', 129)" onmouseover="showTip(event, 'fs49', 129)" class="fn">vs</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs35', 130)" onmouseover="showTip(event, 'fs35', 130)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs51', 131)" onmouseover="showTip(event, 'fs51', 131)" class="id">collect</span> <span onmouseout="hideTip(event, 'fs50', 132)" onmouseover="showTip(event, 'fs50', 132)" class="fn">f</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs35', 133)" onmouseover="showTip(event, 'fs35', 133)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 134)" onmouseover="showTip(event, 'fs36', 134)" class="id">toList</span>

    <span class="c">/// This will allow for using the yield! method</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs48', 135)" onmouseover="showTip(event, 'fs48', 135)" class="fn">this</span><span class="pn">.</span><span class="fn">YieldFrom</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs52', 136)" onmouseover="showTip(event, 'fs52', 136)" class="fn">vs</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs46', 137)" onmouseover="showTip(event, 'fs46', 137)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 138)" onmouseover="showTip(event, 'fs19', 138)" class="fn">printfn</span> <span class="s">$&quot;YieldFrom {</span><span onmouseout="hideTip(event, 'fs52', 139)" onmouseover="showTip(event, 'fs52', 139)" class="fn">vs</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs52', 140)" onmouseover="showTip(event, 'fs52', 140)" class="fn">vs</span>


<span class="c">// For easier initialization of the computation expression</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs53', 141)" onmouseover="showTip(event, 'fs53', 141)" class="id">extList</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs47', 142)" onmouseover="showTip(event, 'fs47', 142)" class="fn">ExtendedListBuilder</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<p>Again let's test it out.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs53', 143)" onmouseover="showTip(event, 'fs53', 143)" class="k">extList</span> <span class="pn">{</span>
    <span class="n">1</span>
    <span class="n">2</span>
    
    <span class="k">for</span> <span onmouseout="hideTip(event, 'fs54', 144)" onmouseover="showTip(event, 'fs54', 144)" class="fn">i</span> <span class="k">in</span> <span class="pn">[</span><span class="n">3</span><span class="pn">;</span><span class="n">4</span><span class="pn">]</span> <span class="k">do</span>
        <span onmouseout="hideTip(event, 'fs54', 145)" onmouseover="showTip(event, 'fs54', 145)" class="fn">i</span>
    
    <span class="k">yield!</span> <span class="pn">[</span><span class="n">5</span><span class="pn">;</span><span class="n">6</span><span class="pn">]</span>

    <span class="k">if</span> <span class="k">true</span> <span class="k">then</span> <span class="n">7</span>

<span class="pn">}</span>

<span class="c">//Delay</span>
<span class="c">//Yield 1</span>
<span class="c">//Delay</span>
<span class="c">//Yield 2</span>
<span class="c">//Delay</span>
<span class="c">//For</span>
<span class="c">//Yield 3</span>
<span class="c">//Yield 4</span>
<span class="c">//Delay</span>
<span class="c">//YieldFrom [5; 6]</span>
<span class="c">//Delay</span>
<span class="c">//Yield 7</span>
<span class="c">//Delay result: [7]</span>
<span class="c">//Combine [5; 6] with [7]</span>
<span class="c">//Delay result: [5; 6; 7]</span>
<span class="c">//Combine [3; 4] with [5; 6; 7]</span>
<span class="c">//Delay result: [3; 4; 5; ... ]</span>
<span class="c">//Combine [2] with [3; 4; 5; ... ]</span>
<span class="c">//Delay result: [2; 3; 4; ... ]</span>
<span class="c">//Combine [1] with [2; 3; 4; ... ]</span>
<span class="c">//Delay result: [1; 2; 3; ... ]</span>
<span class="c">//val it : int list = [1; 2; 3; 4; 5; 6; 7]</span>
</code></pre>
<p>One important thing to note here: The values returned in the <code>for</code> expression actually get <code>yielded</code> by the <code>Yield</code> method.
In the case of <code>yield!</code>, only the <code>YieldFrom</code> method gets called. This means, that the input of type <code>'U</code> in the <code>For</code> method is actually already a yielded value.</p>
<h3><a name="Math-builder" class="anchor" href="#Math-builder">Math builder</a></h3>
<p>Another thing you can do is to add a <code>Run</code> method. This method will be executed at the end of the Computation expression.
We can also combine this with the ability of the Computation expression to store a state in itself. By this we can control what exactly Run will do:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// Used to specify which mathematical operation should be applied on the float list to reduce it</span>
<span class="k">type</span> <span class="rt">MathOperation</span> <span class="o">=</span> 
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs55', 146)" onmouseover="showTip(event, 'fs55', 146)" class="uc">Sum</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs56', 147)" onmouseover="showTip(event, 'fs56', 147)" class="uc">Multiply</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs57', 148)" onmouseover="showTip(event, 'fs57', 148)" class="uc">Custom</span> <span class="k">of</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs58', 149)" onmouseover="showTip(event, 'fs58', 149)" class="vt">float</span> <span onmouseout="hideTip(event, 'fs46', 150)" onmouseover="showTip(event, 'fs46', 150)" class="rt">list</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs58', 151)" onmouseover="showTip(event, 'fs58', 151)" class="vt">float</span><span class="pn">)</span>

    <span class="c">/// Apply the given operation on the float list, resulting in a single float</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs59', 152)" onmouseover="showTip(event, 'fs59', 152)" class="fn">this</span><span class="pn">.</span><span class="fn">Apply</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs60', 153)" onmouseover="showTip(event, 'fs60', 153)" class="fn">vals</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 154)" onmouseover="showTip(event, 'fs58', 154)" class="vt">float</span> <span onmouseout="hideTip(event, 'fs46', 155)" onmouseover="showTip(event, 'fs46', 155)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>

        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs59', 156)" onmouseover="showTip(event, 'fs59', 156)" class="fn">this</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs55', 157)" onmouseover="showTip(event, 'fs55', 157)" class="uc">Sum</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs60', 158)" onmouseover="showTip(event, 'fs60', 158)" class="fn">vals</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs61', 159)" onmouseover="showTip(event, 'fs61', 159)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 160)" onmouseover="showTip(event, 'fs62', 160)" class="id">sum</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs56', 161)" onmouseover="showTip(event, 'fs56', 161)" class="uc">Multiply</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs60', 162)" onmouseover="showTip(event, 'fs60', 162)" class="fn">vals</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs61', 163)" onmouseover="showTip(event, 'fs61', 163)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs63', 164)" onmouseover="showTip(event, 'fs63', 164)" class="id">reduce</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs64', 165)" onmouseover="showTip(event, 'fs64', 165)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs65', 166)" onmouseover="showTip(event, 'fs65', 166)" class="fn">b</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs64', 167)" onmouseover="showTip(event, 'fs64', 167)" class="fn">a</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs65', 168)" onmouseover="showTip(event, 'fs65', 168)" class="fn">b</span><span class="pn">)</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs57', 169)" onmouseover="showTip(event, 'fs57', 169)" class="uc">Custom</span> <span onmouseout="hideTip(event, 'fs66', 170)" onmouseover="showTip(event, 'fs66', 170)" class="fn">operation</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs66', 171)" onmouseover="showTip(event, 'fs66', 171)" class="fn">operation</span> <span onmouseout="hideTip(event, 'fs60', 172)" onmouseover="showTip(event, 'fs60', 172)" class="fn">vals</span>


<span class="k">type</span> <span onmouseout="hideTip(event, 'fs67', 173)" onmouseover="showTip(event, 'fs67', 173)" class="rt">MathBuilder</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> 

    <span class="c">// Mutable math operation state, default value is Sum</span>
    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs68', 174)" onmouseover="showTip(event, 'fs68', 174)" class="mv">operation</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 175)" onmouseover="showTip(event, 'fs55', 175)" class="uc">Sum</span>

    <span class="c">/// When the user yields a value of type MathOperation, this will not be added to the list of values but overwrite the state of the operation variable</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 176)" onmouseover="showTip(event, 'fs69', 176)" class="fn">this</span><span class="pn">.</span><span class="fn">Yield</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs70', 177)" onmouseover="showTip(event, 'fs70', 177)" class="fn">newOperation</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs71', 178)" onmouseover="showTip(event, 'fs71', 178)" class="rt">MathOperation</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs68', 179)" onmouseover="showTip(event, 'fs68', 179)" class="mv">operation</span> <span class="k">&lt;-</span> <span onmouseout="hideTip(event, 'fs70', 180)" onmouseover="showTip(event, 'fs70', 180)" class="fn">newOperation</span>
        <span class="pn">[</span><span class="pn">]</span>

    <span class="c">/// User can yield ints</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 181)" onmouseover="showTip(event, 'fs69', 181)" class="fn">this</span><span class="pn">.</span><span class="fn">Yield</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs72', 182)" onmouseover="showTip(event, 'fs72', 182)" class="fn">v</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs73', 183)" onmouseover="showTip(event, 'fs73', 183)" class="vt">int</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 184)" onmouseover="showTip(event, 'fs19', 184)" class="fn">printfn</span> <span class="s">$&quot;Yield {</span><span onmouseout="hideTip(event, 'fs72', 185)" onmouseover="showTip(event, 'fs72', 185)" class="fn">v</span><span class="s">}&quot;</span>
        <span class="pn">[</span><span onmouseout="hideTip(event, 'fs58', 186)" onmouseover="showTip(event, 'fs58', 186)" class="fn">float</span> <span onmouseout="hideTip(event, 'fs72', 187)" onmouseover="showTip(event, 'fs72', 187)" class="fn">v</span><span class="pn">]</span>

    <span class="c">/// User can yield floats</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 188)" onmouseover="showTip(event, 'fs69', 188)" class="fn">this</span><span class="pn">.</span><span class="fn">Yield</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs74', 189)" onmouseover="showTip(event, 'fs74', 189)" class="fn">v</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 190)" onmouseover="showTip(event, 'fs58', 190)" class="vt">float</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 191)" onmouseover="showTip(event, 'fs19', 191)" class="fn">printfn</span> <span class="s">$&quot;Yield {</span><span onmouseout="hideTip(event, 'fs74', 192)" onmouseover="showTip(event, 'fs74', 192)" class="fn">v</span><span class="s">}&quot;</span>
        <span class="pn">[</span><span onmouseout="hideTip(event, 'fs74', 193)" onmouseover="showTip(event, 'fs74', 193)" class="fn">v</span><span class="pn">]</span>

    <span class="c">/// This will combine the yielded values in the background</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 194)" onmouseover="showTip(event, 'fs69', 194)" class="fn">this</span><span class="pn">.</span><span class="fn">Combine</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs75', 195)" onmouseover="showTip(event, 'fs75', 195)" class="fn">v1</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 196)" onmouseover="showTip(event, 'fs58', 196)" class="vt">float</span> <span onmouseout="hideTip(event, 'fs46', 197)" onmouseover="showTip(event, 'fs46', 197)" class="rt">list</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs76', 198)" onmouseover="showTip(event, 'fs76', 198)" class="fn">v2</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 199)" onmouseover="showTip(event, 'fs58', 199)" class="vt">float</span> <span onmouseout="hideTip(event, 'fs46', 200)" onmouseover="showTip(event, 'fs46', 200)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 201)" onmouseover="showTip(event, 'fs19', 201)" class="fn">printfn</span> <span class="s">$&quot;Combine {</span><span onmouseout="hideTip(event, 'fs75', 202)" onmouseover="showTip(event, 'fs75', 202)" class="fn">v1</span><span class="s">} with {</span><span class="fn">v2</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs75', 203)" onmouseover="showTip(event, 'fs75', 203)" class="fn">v1</span> <span class="o">@</span> <span onmouseout="hideTip(event, 'fs76', 204)" onmouseover="showTip(event, 'fs76', 204)" class="fn">v2</span>

    <span class="c">/// This method is needed. It can be used to lazily evaluate the operations in the CE. Instead here, we just directly execute the given function.</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 205)" onmouseover="showTip(event, 'fs69', 205)" class="fn">this</span><span class="pn">.</span><span class="fn">Delay</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs43', 206)" onmouseover="showTip(event, 'fs43', 206)" class="fn">f</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs44', 207)" onmouseover="showTip(event, 'fs44', 207)" class="rt">unit</span> <span class="k">-&gt;</span> <span class="ta">&#39;</span><span class="id">T</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 208)" onmouseover="showTip(event, 'fs19', 208)" class="fn">printfn</span> <span class="s">$&quot;Delay&quot;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 209)" onmouseover="showTip(event, 'fs45', 209)" class="fn">res</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 210)" onmouseover="showTip(event, 'fs43', 210)" class="fn">f</span><span class="pn">(</span><span class="pn">)</span>
        <span onmouseout="hideTip(event, 'fs19', 211)" onmouseover="showTip(event, 'fs19', 211)" class="fn">printfn</span> <span class="s">$&quot;Delay result: {</span><span onmouseout="hideTip(event, 'fs45', 212)" onmouseover="showTip(event, 'fs45', 212)" class="fn">res</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs45', 213)" onmouseover="showTip(event, 'fs45', 213)" class="fn">res</span>

    <span class="c">/// Is called in empty else branches</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 214)" onmouseover="showTip(event, 'fs69', 214)" class="fn">this</span><span class="pn">.</span><span class="fn">Zero</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs19', 215)" onmouseover="showTip(event, 'fs19', 215)" class="fn">printfn</span> <span class="s">&quot;Zero&quot;</span>
        <span class="pn">[</span><span class="pn">]</span>

    <span class="c">/// Allows for using for loops in the computation expression</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 216)" onmouseover="showTip(event, 'fs69', 216)" class="fn">this</span><span class="pn">.</span><span class="fn">For</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs49', 217)" onmouseover="showTip(event, 'fs49', 217)" class="fn">vs</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">U</span> <span onmouseout="hideTip(event, 'fs34', 218)" onmouseover="showTip(event, 'fs34', 218)" class="if">seq</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs77', 219)" onmouseover="showTip(event, 'fs77', 219)" class="fn">f</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">U</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs58', 220)" onmouseover="showTip(event, 'fs58', 220)" class="vt">float</span> <span onmouseout="hideTip(event, 'fs46', 221)" onmouseover="showTip(event, 'fs46', 221)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 222)" onmouseover="showTip(event, 'fs19', 222)" class="fn">printfn</span> <span class="s">$&quot;For&quot;</span>
        <span onmouseout="hideTip(event, 'fs49', 223)" onmouseover="showTip(event, 'fs49', 223)" class="fn">vs</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs35', 224)" onmouseover="showTip(event, 'fs35', 224)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs51', 225)" onmouseover="showTip(event, 'fs51', 225)" class="id">collect</span> <span onmouseout="hideTip(event, 'fs77', 226)" onmouseover="showTip(event, 'fs77', 226)" class="fn">f</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs35', 227)" onmouseover="showTip(event, 'fs35', 227)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs36', 228)" onmouseover="showTip(event, 'fs36', 228)" class="id">toList</span>

    <span class="c">/// This will allow for using the yield! method</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 229)" onmouseover="showTip(event, 'fs69', 229)" class="fn">this</span><span class="pn">.</span><span class="fn">YieldFrom</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs52', 230)" onmouseover="showTip(event, 'fs52', 230)" class="fn">vs</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span onmouseout="hideTip(event, 'fs46', 231)" onmouseover="showTip(event, 'fs46', 231)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 232)" onmouseover="showTip(event, 'fs19', 232)" class="fn">printfn</span> <span class="s">$&quot;YieldFrom {</span><span onmouseout="hideTip(event, 'fs52', 233)" onmouseover="showTip(event, 'fs52', 233)" class="fn">vs</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs52', 234)" onmouseover="showTip(event, 'fs52', 234)" class="fn">vs</span>

    <span class="c">/// This will run the operation on the final float list, returning a single float as output of the compuation expression.</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs69', 235)" onmouseover="showTip(event, 'fs69', 235)" class="fn">this</span><span class="pn">.</span><span class="fn">Run</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs78', 236)" onmouseover="showTip(event, 'fs78', 236)" class="fn">vs</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs58', 237)" onmouseover="showTip(event, 'fs58', 237)" class="vt">float</span> <span onmouseout="hideTip(event, 'fs46', 238)" onmouseover="showTip(event, 'fs46', 238)" class="rt">list</span><span class="pn">)</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs19', 239)" onmouseover="showTip(event, 'fs19', 239)" class="fn">printfn</span> <span class="s">$&quot;Run {</span><span onmouseout="hideTip(event, 'fs78', 240)" onmouseover="showTip(event, 'fs78', 240)" class="fn">vs</span><span class="s">}&quot;</span>
        <span onmouseout="hideTip(event, 'fs68', 241)" onmouseover="showTip(event, 'fs68', 241)" class="mv">operation</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs79', 242)" onmouseover="showTip(event, 'fs79', 242)" class="id">Apply</span> <span onmouseout="hideTip(event, 'fs78', 243)" onmouseover="showTip(event, 'fs78', 243)" class="fn">vs</span>

<span class="c">// For easier initialization of the computation expression</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs80', 244)" onmouseover="showTip(event, 'fs80', 244)" class="id">math</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs67', 245)" onmouseover="showTip(event, 'fs67', 245)" class="fn">MathBuilder</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<p>So let's test this out</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs80', 246)" onmouseover="showTip(event, 'fs80', 246)" class="k">math</span> <span class="pn">{</span>
    <span class="n">1</span>
    <span class="n">2</span>
    <span class="n">3</span>
<span class="pn">}</span>

<span class="c">// Results in 6</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs81', 247)" onmouseover="showTip(event, 'fs81', 247)" class="fn">factorial</span> <span onmouseout="hideTip(event, 'fs82', 248)" onmouseover="showTip(event, 'fs82', 248)" class="fn">x</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs80', 249)" onmouseover="showTip(event, 'fs80', 249)" class="k">math</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs56', 250)" onmouseover="showTip(event, 'fs56', 250)" class="uc">Multiply</span>
        <span class="k">for</span> <span onmouseout="hideTip(event, 'fs54', 251)" onmouseover="showTip(event, 'fs54', 251)" class="fn">i</span> <span class="o">=</span> <span class="n">1</span> <span class="k">to</span> <span onmouseout="hideTip(event, 'fs82', 252)" onmouseover="showTip(event, 'fs82', 252)" class="fn">x</span> <span class="k">do</span>
            <span onmouseout="hideTip(event, 'fs54', 253)" onmouseover="showTip(event, 'fs54', 253)" class="fn">i</span>
    <span class="pn">}</span>

<span onmouseout="hideTip(event, 'fs81', 254)" onmouseover="showTip(event, 'fs81', 254)" class="fn">factorial</span> <span class="n">4</span>

<span class="c">//Delay</span>
<span class="c">//Delay</span>
<span class="c">//For</span>
<span class="c">//Yield 1</span>
<span class="c">//Yield 2</span>
<span class="c">//Yield 3</span>
<span class="c">//Yield 4</span>
<span class="c">//Delay result: [1; 2; 3; ... ]</span>
<span class="c">//Combine [] with [1; 2; 3; ... ]</span>
<span class="c">//Delay result: [1; 2; 3; ... ]</span>
<span class="c">//Run [1; 2; 3; ... ]</span>
<span class="c">//val it : float = 24.0</span>
</code></pre>
<p>As you can see this approach can be used to further tune the Computation expression in a very generic way.</p>
<h2><a name="Custom-Operator-based-computation-expressions" class="anchor" href="#Custom-Operator-based-computation-expressions"><em>Custom Operator</em> based computation expressions</a></h2>
<h3><a name="Cake-builder" class="anchor" href="#Cake-builder">Cake builder</a></h3>
<p>Besides the basic keywords shared between all computation expressions, one can also define their own keywords by using the <code>CustomOperation</code> class.
Methods with this</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="rt">Cake</span> <span class="o">=</span>

    <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs83', 255)" onmouseover="showTip(event, 'fs83', 255)" class="prop">Size</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs73', 256)" onmouseover="showTip(event, 'fs73', 256)" class="vt">int</span>
        <span onmouseout="hideTip(event, 'fs84', 257)" onmouseover="showTip(event, 'fs84', 257)" class="prop">Filling</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs85', 258)" onmouseover="showTip(event, 'fs85', 258)" class="rt">string</span>
        <span onmouseout="hideTip(event, 'fs86', 259)" onmouseover="showTip(event, 'fs86', 259)" class="prop">PackagedAsPresent</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs87', 260)" onmouseover="showTip(event, 'fs87', 260)" class="vt">bool</span>
    <span class="pn">}</span>

    <span class="k">static</span> <span class="k">member</span> <span class="prop">Default</span> <span class="o">=</span> 
        <span class="pn">{</span>
            <span class="prop">Size</span> <span class="o">=</span> <span class="n">30</span>
            <span class="prop">Filling</span> <span class="o">=</span> <span class="s">&quot;Strawberry&quot;</span>
            <span class="prop">PackagedAsPresent</span> <span class="o">=</span> <span class="k">false</span>
        <span class="pn">}</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs88', 261)" onmouseover="showTip(event, 'fs88', 261)" class="rt">CakeBuilder</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>

    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs89', 262)" onmouseover="showTip(event, 'fs89', 262)" class="fn">x</span><span class="pn">.</span><span class="fn">Yield</span> <span class="pn">(</span><span class="id">(</span><span class="pn">)</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs90', 263)" onmouseover="showTip(event, 'fs90', 263)" class="rt">Cake</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs91', 264)" onmouseover="showTip(event, 'fs91', 264)" class="id">Default</span>

    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs89', 265)" onmouseover="showTip(event, 'fs89', 265)" class="fn">x</span><span class="pn">.</span><span class="fn">Zero</span> <span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs90', 266)" onmouseover="showTip(event, 'fs90', 266)" class="rt">Cake</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs91', 267)" onmouseover="showTip(event, 'fs91', 267)" class="id">Default</span>

    <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs92', 268)" onmouseover="showTip(event, 'fs92', 268)" class="rt">CustomOperation</span><span class="pn">(</span><span class="s">&quot;size&quot;</span><span class="pn">)</span><span class="pn">&gt;]</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs89', 269)" onmouseover="showTip(event, 'fs89', 269)" class="fn">x</span><span class="pn">.</span><span class="fn">Size</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs93', 270)" onmouseover="showTip(event, 'fs93', 270)" class="fn">cake</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs90', 271)" onmouseover="showTip(event, 'fs90', 271)" class="rt">Cake</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs54', 272)" onmouseover="showTip(event, 'fs54', 272)" class="fn">i</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs73', 273)" onmouseover="showTip(event, 'fs73', 273)" class="vt">int</span><span class="pn">)</span> <span class="o">=</span>
        <span class="pn">{</span><span onmouseout="hideTip(event, 'fs93', 274)" onmouseover="showTip(event, 'fs93', 274)" class="fn">cake</span> <span class="k">with</span> <span class="prop">Size</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 275)" onmouseover="showTip(event, 'fs54', 275)" class="fn">i</span><span class="pn">}</span>
  
    <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs92', 276)" onmouseover="showTip(event, 'fs92', 276)" class="rt">CustomOperation</span><span class="pn">(</span><span class="s">&quot;filling&quot;</span><span class="pn">)</span><span class="pn">&gt;]</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs89', 277)" onmouseover="showTip(event, 'fs89', 277)" class="fn">x</span><span class="pn">.</span><span class="fn">Filling</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs93', 278)" onmouseover="showTip(event, 'fs93', 278)" class="fn">cake</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs90', 279)" onmouseover="showTip(event, 'fs90', 279)" class="rt">Cake</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs94', 280)" onmouseover="showTip(event, 'fs94', 280)" class="fn">s</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs85', 281)" onmouseover="showTip(event, 'fs85', 281)" class="rt">string</span><span class="pn">)</span> <span class="o">=</span>
        <span class="pn">{</span><span onmouseout="hideTip(event, 'fs93', 282)" onmouseover="showTip(event, 'fs93', 282)" class="fn">cake</span> <span class="k">with</span> <span class="prop">Filling</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs94', 283)" onmouseover="showTip(event, 'fs94', 283)" class="fn">s</span><span class="pn">}</span>

    <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs92', 284)" onmouseover="showTip(event, 'fs92', 284)" class="rt">CustomOperation</span><span class="pn">(</span><span class="s">&quot;package&quot;</span><span class="pn">)</span><span class="pn">&gt;]</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs89', 285)" onmouseover="showTip(event, 'fs89', 285)" class="fn">x</span><span class="pn">.</span><span class="fn">PackageAsPresent</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs93', 286)" onmouseover="showTip(event, 'fs93', 286)" class="fn">cake</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs90', 287)" onmouseover="showTip(event, 'fs90', 287)" class="rt">Cake</span><span class="pn">)</span> <span class="o">=</span>
        <span class="pn">{</span><span onmouseout="hideTip(event, 'fs93', 288)" onmouseover="showTip(event, 'fs93', 288)" class="fn">cake</span> <span class="k">with</span> <span class="prop">PackagedAsPresent</span> <span class="o">=</span> <span class="k">true</span><span class="pn">}</span>


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs95', 289)" onmouseover="showTip(event, 'fs95', 289)" class="id">cake</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs88', 290)" onmouseover="showTip(event, 'fs88', 290)" class="fn">CakeBuilder</span><span class="pn">(</span><span class="pn">)</span>
</code></pre>
<p>Let's bake some cakes</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs95', 291)" onmouseover="showTip(event, 'fs95', 291)" class="k">cake</span> <span class="pn">{</span>
    <span class="pn">(</span><span class="pn">)</span>
<span class="pn">}</span>

<span class="c">//val it : Cake = { Size = 30</span>
<span class="c">//                  Filling = &quot;Strawberry&quot;</span>
<span class="c">//                  PackagedAsPresent = false }</span>

<span onmouseout="hideTip(event, 'fs95', 292)" onmouseover="showTip(event, 'fs95', 292)" class="k">cake</span> <span class="pn">{</span>
    <span onmouseout="hideTip(event, 'fs96', 293)" onmouseover="showTip(event, 'fs96', 293)" class="k">size</span> <span class="n">1800</span>
    <span onmouseout="hideTip(event, 'fs97', 294)" onmouseover="showTip(event, 'fs97', 294)" class="k">filling</span> <span class="s">&quot;Irish coffee cream&quot;</span>
    <span onmouseout="hideTip(event, 'fs98', 295)" onmouseover="showTip(event, 'fs98', 295)" class="k">package</span>
<span class="pn">}</span>

<span class="c">//val it : Cake = { Size = 1800</span>
<span class="c">//                  Filling = &quot;Irish coffee cream&quot;</span>
<span class="c">//                  PackagedAsPresent = true }</span>
</code></pre>
<p>For a good example of this kind of computation expression check out <a href="https://saturnframework.org/explanations/routing.html">Saturn</a></p>
<h2><a name="Further-reading" class="anchor" href="#Further-reading">Further reading</a></h2>
<ul>
<li><p><a href="https://en.wikibooks.org/wiki/F_Sharp_Programming/Computation_Expressions">Basic introduction</a></p></li>
<li><p><a href="https://fsharpforfunandprofit.com/series/computation-expressions/">In depth introduction</a></p></li>
<li><p><a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/computation-expressions">Official reference</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=pC4ZIeOmgB0">Good video for practical introduction</a></p></li>
</ul>

                </div>
            </div>
        </div>
        <div class="fsdocs-tip" id="fs1">val fetchAndDownload : url:System.Uri -&gt; Async&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs2">val url : System.Uri</div>
<div class="fsdocs-tip" id="fs3">val async : AsyncBuilder<br /><em>&lt;summary&gt;Builds an asynchronous workflow using computation expression syntax.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs4">val client : System.Net.WebClient</div>
<div class="fsdocs-tip" id="fs5">namespace System</div>
<div class="fsdocs-tip" id="fs6">namespace System.Net</div>
<div class="fsdocs-tip" id="fs7">type WebClient =
  inherit Component
  new : unit -&gt; unit
  member CancelAsync : unit -&gt; unit
  member DownloadData : address: string -&gt; byte [] + 1 overload
  member DownloadDataAsync : address: Uri -&gt; unit + 1 overload
  member DownloadDataTaskAsync : address: string -&gt; Task&lt;byte []&gt; + 1 overload
  member DownloadFile : address: string * fileName: string -&gt; unit + 1 overload
  member DownloadFileAsync : address: Uri * fileName: string -&gt; unit + 1 overload
  member DownloadFileTaskAsync : address: string * fileName: string -&gt; Task + 1 overload
  member DownloadString : address: string -&gt; string + 1 overload
  ...<br /><em>&lt;summary&gt;Provides common methods for sending data to and receiving data from a resource identified by a URI.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs8">val data : byte []</div>
<div class="fsdocs-tip" id="fs9">member System.Net.WebClient.AsyncDownloadData : address:System.Uri -&gt; Async&lt;byte []&gt;</div>
<div class="fsdocs-tip" id="fs10">val processedData : string</div>
<div class="fsdocs-tip" id="fs11">namespace System.Text</div>
<div class="fsdocs-tip" id="fs12">type Encoding =
  interface ICloneable
  new : unit -&gt; unit + 2 overloads
  member Clone : unit -&gt; obj
  member Equals : value: obj -&gt; bool
  member GetByteCount : chars: nativeptr&lt;char&gt; * count: int -&gt; int + 5 overloads
  member GetBytes : chars: nativeptr&lt;char&gt; * charCount: int * bytes: nativeptr&lt;byte&gt; * byteCount: int -&gt; int + 7 overloads
  member GetCharCount : bytes: nativeptr&lt;byte&gt; * count: int -&gt; int + 3 overloads
  member GetChars : bytes: nativeptr&lt;byte&gt; * byteCount: int * chars: nativeptr&lt;char&gt; * charCount: int -&gt; int + 4 overloads
  member GetDecoder : unit -&gt; Decoder
  member GetEncoder : unit -&gt; Encoder
  ...<br /><em>&lt;summary&gt;Represents a character encoding.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs13">property System.Text.Encoding.ASCII: System.Text.Encoding with get<br /><em>&lt;summary&gt;Gets an encoding for the ASCII (7-bit) character set.&lt;/summary&gt;<br />&lt;returns&gt;An  encoding for the ASCII (7-bit) character set.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs14">System.Text.Encoding.GetString(bytes: System.ReadOnlySpan&lt;byte&gt;) : string<br />System.Text.Encoding.GetString(bytes: byte []) : string<br />System.Text.Encoding.GetString(bytes: nativeptr&lt;byte&gt;, byteCount: int) : string<br />System.Text.Encoding.GetString(bytes: byte [], index: int, count: int) : string</div>
<div class="fsdocs-tip" id="fs15">Multiple items<br />type OptionBuilder =
  new : unit -&gt; OptionBuilder
  member Bind : wrappedValue:&#39;T option * f:(&#39;T -&gt; &#39;T option) -&gt; &#39;T option
  member Return : value:&#39;T -&gt; Option&lt;&#39;T&gt;<br /><br />--------------------<br />new : unit -&gt; OptionBuilder</div>
<div class="fsdocs-tip" id="fs16">val this : OptionBuilder</div>
<div class="fsdocs-tip" id="fs17">val value : &#39;T</div>
<div class="fsdocs-tip" id="fs18">module Option

from Microsoft.FSharp.Core<br /><em>&lt;summary&gt;Contains operations for working with options.&lt;/summary&gt;<br />&lt;category&gt;Options&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs19">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><em>&lt;summary&gt;Print to &lt;c&gt;stdout&lt;/c&gt; using the given format, and add a newline.&lt;/summary&gt;<br />&lt;param name=&quot;format&quot;&gt;The formatter.&lt;/param&gt;<br />&lt;returns&gt;The formatted result.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs20">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;Value of type &#39;T&quot;&lt;/summary&gt;<br />&lt;param name=&quot;Value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;An option representing the value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs21">val wrappedValue : &#39;T option</div>
<div class="fsdocs-tip" id="fs22">type &#39;T option = Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The type of optional values. When used from other CLI languages the
 empty option is the &lt;c&gt;null&lt;/c&gt; value. &lt;/summary&gt;<br />&lt;remarks&gt;Use the constructors &lt;c&gt;Some&lt;/c&gt; and &lt;c&gt;None&lt;/c&gt; to create values of this type.
 Use the values in the &lt;c&gt;Option&lt;/c&gt; module to manipulate values of this type,
 or pattern match against the values directly.

 &#39;None&#39; values will appear as the value &lt;c&gt;null&lt;/c&gt; to other CLI languages.
 Instance methods on this type will appear as static methods to other CLI languages
 due to the use of &lt;c&gt;null&lt;/c&gt; as a value representation.&lt;/remarks&gt;<br />&lt;category index=&quot;3&quot;&gt;Options&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs23">val f : (&#39;T -&gt; &#39;T option)</div>
<div class="fsdocs-tip" id="fs24">val unwrappedValue : &#39;T</div>
<div class="fsdocs-tip" id="fs25">union case Option.None: Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;No value&quot;&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs26">Multiple items<br />val option : OptionBuilder<br /><br />--------------------<br />type &#39;T option = Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The type of optional values. When used from other CLI languages the
 empty option is the &lt;c&gt;null&lt;/c&gt; value. &lt;/summary&gt;<br />&lt;remarks&gt;Use the constructors &lt;c&gt;Some&lt;/c&gt; and &lt;c&gt;None&lt;/c&gt; to create values of this type.
 Use the values in the &lt;c&gt;Option&lt;/c&gt; module to manipulate values of this type,
 or pattern match against the values directly.

 &#39;None&#39; values will appear as the value &lt;c&gt;null&lt;/c&gt; to other CLI languages.
 Instance methods on this type will appear as static methods to other CLI languages
 due to the use of &lt;c&gt;null&lt;/c&gt; as a value representation.&lt;/remarks&gt;<br />&lt;category index=&quot;3&quot;&gt;Options&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs27">val addOptions : aO:int option -&gt; bO:int option -&gt; cO:int option -&gt; int option</div>
<div class="fsdocs-tip" id="fs28">val aO : int option</div>
<div class="fsdocs-tip" id="fs29">val bO : int option</div>
<div class="fsdocs-tip" id="fs30">val cO : int option</div>
<div class="fsdocs-tip" id="fs31">val a : int</div>
<div class="fsdocs-tip" id="fs32">val b : int</div>
<div class="fsdocs-tip" id="fs33">val c : int</div>
<div class="fsdocs-tip" id="fs34">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><em>&lt;summary&gt;Builds a sequence using sequence expression syntax&lt;/summary&gt;<br />&lt;param name=&quot;sequence&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;</em><br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Collections.Generic.IEnumerable`1&quot; /&gt;&lt;/summary&gt;<br />&lt;remarks&gt;
  See the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.SeqModule&quot; /&gt; module for further operations related to sequences.

  See also &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/sequences&quot;&gt;F# Language Guide - Sequences&lt;/a&gt;.
&lt;/remarks&gt;</em></div>
<div class="fsdocs-tip" id="fs35">module Seq

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.seq`1&quot; /&gt;.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs36">val toList : source:seq&lt;&#39;T&gt; -&gt; &#39;T list<br /><em>&lt;summary&gt;Builds a list from the given collection.&lt;/summary&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result list.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs37">Multiple items<br />type ListBuilder =
  new : unit -&gt; ListBuilder
  member Combine : v1:&#39;T list * v2:&#39;T list -&gt; &#39;T list
  member Delay : f:(unit -&gt; &#39;T) -&gt; &#39;T
  member Yield : v:&#39;T -&gt; &#39;T list<br /><br />--------------------<br />new : unit -&gt; ListBuilder</div>
<div class="fsdocs-tip" id="fs38">val this : ListBuilder</div>
<div class="fsdocs-tip" id="fs39">val v : &#39;T</div>
<div class="fsdocs-tip" id="fs40">val v1 : &#39;T list</div>
<div class="fsdocs-tip" id="fs41">type &#39;T list = List&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The type of immutable singly-linked lists. &lt;/summary&gt;<br />&lt;remarks&gt;See the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.ListModule&quot; /&gt; module for further operations related to lists.

 Use the constructors &lt;c&gt;[]&lt;/c&gt; and &lt;c&gt;::&lt;/c&gt; (infix) to create values of this type, or
 the notation &lt;c&gt;[1; 2; 3]&lt;/c&gt;. Use the values in the &lt;c&gt;List&lt;/c&gt; module to manipulate 
 values of this type, or pattern match against the values directly.

  See also &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/lists&quot;&gt;F# Language Guide - Lists&lt;/a&gt;.
 &lt;/remarks&gt;</em></div>
<div class="fsdocs-tip" id="fs42">val v2 : &#39;T list</div>
<div class="fsdocs-tip" id="fs43">val f : (unit -&gt; &#39;T)</div>
<div class="fsdocs-tip" id="fs44">type unit = Unit<br /><em>&lt;summary&gt;The type &#39;unit&#39;, which has only one value &quot;()&quot;. This value is special and
 always uses the representation &#39;null&#39;.&lt;/summary&gt;<br />&lt;category index=&quot;1&quot;&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs45">val res : &#39;T</div>
<div class="fsdocs-tip" id="fs46">Multiple items<br />val list : ListBuilder<br /><br />--------------------<br />type &#39;T list = List&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The type of immutable singly-linked lists. &lt;/summary&gt;<br />&lt;remarks&gt;See the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.ListModule&quot; /&gt; module for further operations related to lists.

 Use the constructors &lt;c&gt;[]&lt;/c&gt; and &lt;c&gt;::&lt;/c&gt; (infix) to create values of this type, or
 the notation &lt;c&gt;[1; 2; 3]&lt;/c&gt;. Use the values in the &lt;c&gt;List&lt;/c&gt; module to manipulate 
 values of this type, or pattern match against the values directly.

  See also &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/lists&quot;&gt;F# Language Guide - Lists&lt;/a&gt;.
 &lt;/remarks&gt;</em></div>
<div class="fsdocs-tip" id="fs47">Multiple items<br />type ExtendedListBuilder =
  new : unit -&gt; ExtendedListBuilder
  member Combine : v1:&#39;T list * v2:&#39;T list -&gt; &#39;T list
  member Delay : f:(unit -&gt; &#39;T) -&gt; &#39;T
  member For : vs:seq&lt;&#39;U&gt; * f:(&#39;U -&gt; &#39;T list) -&gt; &#39;T list
  member Yield : v:&#39;T -&gt; &#39;T list
  member YieldFrom : vs:&#39;T list -&gt; &#39;T list
  member Zero : unit -&gt; &#39;a list<br /><br />--------------------<br />new : unit -&gt; ExtendedListBuilder</div>
<div class="fsdocs-tip" id="fs48">val this : ExtendedListBuilder</div>
<div class="fsdocs-tip" id="fs49">val vs : seq&lt;&#39;U&gt;</div>
<div class="fsdocs-tip" id="fs50">val f : (&#39;U -&gt; &#39;T list)</div>
<div class="fsdocs-tip" id="fs51">val collect : mapping:(&#39;T -&gt; #seq&lt;&#39;U&gt;) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><em>&lt;summary&gt;Applies the given function to each element of the sequence and concatenates all the
 results.&lt;/summary&gt;<br />&lt;remarks&gt;Remember sequence is lazy, effects are delayed until it is enumerated.&lt;/remarks&gt;<br />&lt;param name=&quot;mapping&quot;&gt;A function to transform elements of the input sequence into the sequences
 that will then be concatenated.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs52">val vs : &#39;T list</div>
<div class="fsdocs-tip" id="fs53">val extList : ExtendedListBuilder</div>
<div class="fsdocs-tip" id="fs54">val i : int</div>
<div class="fsdocs-tip" id="fs55">union case MathOperation.Sum: MathOperation</div>
<div class="fsdocs-tip" id="fs56">union case MathOperation.Multiply: MathOperation</div>
<div class="fsdocs-tip" id="fs57">union case MathOperation.Custom: (float list -&gt; float) -&gt; MathOperation</div>
<div class="fsdocs-tip" id="fs58">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to 64-bit float. This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Double.Parse()&lt;/c&gt;  
 with InvariantCulture settings. Otherwise the operation requires an appropriate
 static conversion method on the input type.&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted float&lt;/returns&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type float = System.Double<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Double&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type float&lt;&#39;Measure&gt; =
  float<br /><em>&lt;summary&gt;The type of double-precision floating point numbers, annotated with a unit of measure. 
 The unit of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to 
 &lt;see cref=&quot;T:System.Double&quot; /&gt;.&lt;/summary&gt;<br />&lt;category index=&quot;6&quot;&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs59">val this : MathOperation</div>
<div class="fsdocs-tip" id="fs60">val vals : float list</div>
<div class="fsdocs-tip" id="fs61">Multiple items<br />module List

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.list`1&quot; /&gt;.&lt;/summary&gt;<br />&lt;namespacedoc&gt;&lt;summary&gt;Operations for collections such as lists, arrays, sets, maps and sequences. See also 
    &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/fsharp-collection-types&quot;&gt;F# Collection Types&lt;/a&gt; in the F# Language Guide.
 &lt;/summary&gt;&lt;/namespacedoc&gt;</em><br /><br />--------------------<br />type List&lt;&#39;T&gt; =
  | ( [] )
  | ( :: ) of Head: &#39;T * Tail: &#39;T list
    interface IReadOnlyList&lt;&#39;T&gt;
    interface IReadOnlyCollection&lt;&#39;T&gt;
    interface IEnumerable
    interface IEnumerable&lt;&#39;T&gt;
    member GetReverseIndex : rank:int * offset:int -&gt; int
    member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list
    static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list
    member Head : &#39;T
    member IsEmpty : bool
    member Item : index:int -&gt; &#39;T with get
    ...<br /><em>&lt;summary&gt;The type of immutable singly-linked lists.&lt;/summary&gt;<br />&lt;remarks&gt;Use the constructors &lt;c&gt;[]&lt;/c&gt; and &lt;c&gt;::&lt;/c&gt; (infix) to create values of this type, or
 the notation &lt;c&gt;[1;2;3]&lt;/c&gt;. Use the values in the &lt;c&gt;List&lt;/c&gt; module to manipulate 
 values of this type, or pattern match against the values directly.
 &lt;/remarks&gt;<br />&lt;exclude /&gt;</em></div>
<div class="fsdocs-tip" id="fs62">val sum : list:&#39;T list -&gt; &#39;T (requires member ( + ) and member get_Zero)<br /><em>&lt;summary&gt;Returns the sum of the elements in the list.&lt;/summary&gt;<br />&lt;param name=&quot;list&quot;&gt;The input list.&lt;/param&gt;<br />&lt;returns&gt;The resulting sum.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs63">val reduce : reduction:(&#39;T -&gt; &#39;T -&gt; &#39;T) -&gt; list:&#39;T list -&gt; &#39;T<br /><em>&lt;summary&gt;Apply a function to each element of the collection, threading an accumulator argument
 through the computation. Apply the function to the first two elements of the list.
 Then feed this result into the function along with the third element and so on. 
 Return the final result. If the input function is &lt;c&gt;f&lt;/c&gt; and the elements are &lt;c&gt;i0...iN&lt;/c&gt; then computes 
 &lt;c&gt;f (... (f i0 i1) i2 ...) iN&lt;/c&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;Raises &lt;see cref=&quot;T:System.ArgumentException&quot; /&gt; if &lt;c&gt;list&lt;/c&gt; is empty&lt;/remarks&gt;<br />&lt;param name=&quot;reduction&quot;&gt;The function to reduce two list elements to a single element.&lt;/param&gt;<br />&lt;param name=&quot;list&quot;&gt;The input list.&lt;/param&gt;<br />&lt;exception cref=&quot;T:System.ArgumentException&quot;&gt;Thrown when the list is empty.&lt;/exception&gt;<br />&lt;returns&gt;The final reduced value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs64">val a : float</div>
<div class="fsdocs-tip" id="fs65">val b : float</div>
<div class="fsdocs-tip" id="fs66">val operation : (float list -&gt; float)</div>
<div class="fsdocs-tip" id="fs67">Multiple items<br />type MathBuilder =
  new : unit -&gt; MathBuilder
  member Combine : v1:float list * v2:float list -&gt; float list
  member Delay : f:(unit -&gt; &#39;T) -&gt; &#39;T
  member For : vs:seq&lt;&#39;U&gt; * f:(&#39;U -&gt; float list) -&gt; float list
  member Run : vs:float list -&gt; float
  member Yield : v:float -&gt; float list + 2 overloads
  member YieldFrom : vs:&#39;T list -&gt; &#39;T list
  member Zero : unit -&gt; &#39;a list<br /><br />--------------------<br />new : unit -&gt; MathBuilder</div>
<div class="fsdocs-tip" id="fs68">val mutable operation : MathOperation</div>
<div class="fsdocs-tip" id="fs69">val this : MathBuilder</div>
<div class="fsdocs-tip" id="fs70">val newOperation : MathOperation</div>
<div class="fsdocs-tip" id="fs71">type MathOperation =
  | Sum
  | Multiply
  | Custom of (float list -&gt; float)
    member Apply : vals:float list -&gt; float<br /><em>&#160;Used to specify which mathematical operation should be applied on the float list to reduce it</em></div>
<div class="fsdocs-tip" id="fs72">val v : int</div>
<div class="fsdocs-tip" id="fs73">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to signed 32-bit integer. This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Int32.Parse()&lt;/c&gt;  
 with InvariantCulture settings. Otherwise the operation requires an appropriate
 static conversion method on the input type.&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted int&lt;/returns&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type int = int32<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type int&lt;&#39;Measure&gt; =
  int<br /><em>&lt;summary&gt;The type of 32-bit signed integer numbers, annotated with a unit of measure. The unit
 of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to 
 &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs74">val v : float</div>
<div class="fsdocs-tip" id="fs75">val v1 : float list</div>
<div class="fsdocs-tip" id="fs76">val v2 : float list</div>
<div class="fsdocs-tip" id="fs77">val f : (&#39;U -&gt; float list)</div>
<div class="fsdocs-tip" id="fs78">val vs : float list</div>
<div class="fsdocs-tip" id="fs79">member MathOperation.Apply : vals:float list -&gt; float<br /><em>&#160;Apply the given operation on the float list, resulting in a single float</em></div>
<div class="fsdocs-tip" id="fs80">val math : MathBuilder</div>
<div class="fsdocs-tip" id="fs81">val factorial : x:int -&gt; float</div>
<div class="fsdocs-tip" id="fs82">val x : int</div>
<div class="fsdocs-tip" id="fs83">Cake.Size: int</div>
<div class="fsdocs-tip" id="fs84">Cake.Filling: string</div>
<div class="fsdocs-tip" id="fs85">Multiple items<br />val string : value:&#39;T -&gt; string<br /><em>&lt;summary&gt;Converts the argument to a string using &lt;c&gt;ToString&lt;/c&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;For standard integer and floating point values the and any type that implements &lt;c&gt;IFormattable&lt;/c&gt;&lt;c&gt;ToString&lt;/c&gt; conversion uses &lt;c&gt;CultureInfo.InvariantCulture&lt;/c&gt;. &lt;/remarks&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted string.&lt;/returns&gt;</em><br /><br />--------------------<br />type string = System.String<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.String&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs86">Cake.PackagedAsPresent: bool</div>
<div class="fsdocs-tip" id="fs87">[&lt;Struct&gt;]
type bool = System.Boolean<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Boolean&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs88">Multiple items<br />type CakeBuilder =
  new : unit -&gt; CakeBuilder
  member Filling : cake:Cake * s:string -&gt; Cake
  member PackageAsPresent : cake:Cake -&gt; Cake
  member Size : cake:Cake * i:int -&gt; Cake
  member Yield : unit -&gt; Cake
  member Zero : unit -&gt; Cake<br /><br />--------------------<br />new : unit -&gt; CakeBuilder</div>
<div class="fsdocs-tip" id="fs89">val x : CakeBuilder</div>
<div class="fsdocs-tip" id="fs90">type Cake =
  { Size: int
    Filling: string
    PackagedAsPresent: bool }
    static member Default : Cake</div>
<div class="fsdocs-tip" id="fs91">property Cake.Default: Cake with get</div>
<div class="fsdocs-tip" id="fs92">Multiple items<br />type CustomOperationAttribute =
  inherit Attribute
  new : name:string -&gt; CustomOperationAttribute
  member AllowIntoPattern : bool
  member IsLikeGroupJoin : bool
  member IsLikeJoin : bool
  member IsLikeZip : bool
  member JoinConditionWord : string
  member MaintainsVariableSpace : bool
  member MaintainsVariableSpaceUsingBind : bool
  member Name : string<br /><em>&lt;summary&gt;Indicates that a member on a computation builder type is a custom query operator,
 and indicates the name of that operator.&lt;/summary&gt;<br />&lt;category&gt;Attributes&lt;/category&gt;</em><br /><br />--------------------<br />new : name:string -&gt; CustomOperationAttribute</div>
<div class="fsdocs-tip" id="fs93">val cake : Cake</div>
<div class="fsdocs-tip" id="fs94">val s : string</div>
<div class="fsdocs-tip" id="fs95">val cake : CakeBuilder</div>
<div class="fsdocs-tip" id="fs96">custom operation: size (int)

Calls CakeBuilder.Size</div>
<div class="fsdocs-tip" id="fs97">custom operation: filling (string)

Calls CakeBuilder.Filling</div>
<div class="fsdocs-tip" id="fs98">custom operation: package

Calls CakeBuilder.PackageAsPresent</div>

    </div>

    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <script type="text/javascript">var fsdocs_search_baseurl = '/CSBlog/'</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
    <script type="text/javascript" src="/CSBlog/content/fsdocs-search.js"></script>
    <!-- END SEARCH BOX: this adds support for the search box -->
</body>
<footer>
    <script>
        bulmaCollapsible.attach('.is-collapsible');
    </script>
</footer>
</html>