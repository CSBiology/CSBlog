<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>How to use Fable</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="">
    <link rel="shortcut icon" type="image/x-icon" href="/CSBlog//img/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="/CSBlog/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/CSBlog/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/CSBlog/content/fsdocs-tips.js"></script>
    <script type="text/javascript" src="/CSBlog/content/init.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-collapsible@1.0.4/dist/js/bulma-collapsible.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@creativebulma/bulma-collapsible@1.0.4/dist/css/bulma-collapsible.min.css">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->
    
</head> 

<body>
    <div class="columns is-fullheight m-0">
        <div id="fsdocs-menu" class="column is-2 is-paddingless">
            <aside class="menu">
                <div class="container is-paddingless is-marginless has-background-dark">
                    <a href="/CSBlog/">
                        <figure class="image is-128x128 container">
                            <img src="/CSBlog/img/logo.png">
                        </figure>
                    </a>
                    <h2 class="title has-text-centered has-text-white pb-4">CSBlog</h2>
                </div>
                <div class="content">
                    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
                    <div id="header">
                        <div class="field">
                            <div class="control has-icons-left has-icons-right searchbox" id="fsdocs-searchbox">
                                <input data-search-input="" id="search-by" type="search" placeholder="Search..." class="input"/>
                                <span class="icon is-small is-left">
                                    <i class="fas fa-search"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- END SEARCH BOX: this adds support for the search box -->
                    <ul class="navbar-nav">
                        <li class="nav-header">
  Overview
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/about.html">
    About
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/blogposts_overview.html">
    Blog posts
  </a>
</li>             
<li class="nav-header">
  Documentation
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/documentation.html">
    Creating a Documentation
  </a>
</li>             
<li class="nav-header">
  Visualization
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/WorkshopSeries_3_plotly.html">
    Introduction to Data visualization using Plotly.NET
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/4_set_relationships.html">
    Visualizing relationships between sets with Plotly.NET
  </a>
</li>             
<li class="nav-header">
  Implementation
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/0_how2JSONSchema.html">
    How to develop and use a JSON Schema
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/consoleTools.html">
    Console apps: Above and beyond
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/1_how2Fable.html">
    How to use Fable
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/3_sequence_features.html">
    Modelling and visualizing sequence features with BioFSharp and Plotly.NET
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/Community_detection_or_Principal_Component_Analysis_- Different_apporaches_to_analyze_big_datasets.html">
    Community detection or Principal Component Analysis - Different apporaches to analyze big datasets
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/Computation_expressions.html">
    Computation expressions: Usage examples
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/6_LabelEfficiencyCalculator.html">
    Label Efficiency Calculator
  </a>
</li>             
<li class="nav-header">
  Learning resources
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/4_qvalues.html">
    q values
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/5_devcontainer_arc.html">
    VS Code Remote-Container and the ARC
  </a>
</li>             
<li class="nav-item">
  <a class="nav-link" href="/CSBlog/posts/7_SAM.html">
    SAM
  </a>
</li>
                    </ul>
                </div>
            </aside>
        </div>
        <div class="column is-10 is-paddingless">
            <div class="section pt-4">
                <div class="container" id="fsdocs-content">
                    
<h1><a name="What-is-Fable-and-how-to-use-it" class="anchor" href="#What-is-Fable-and-how-to-use-it">What is Fable and how to use it</a></h1>
<p><em><a href="https://github.com/Freymaurer">Kevin Frey</a></em></p>
<h2><a name="Content" class="anchor" href="#Content">Content</a></h2>
<ul>
<li><a href="#What-is-Fable">What is Fable?</a></li>
<li>
<a href="#Fable-Example">Fable Example</a>
<ul>
<li><a href="#Fable-Template">Fable Template</a></li>
<li><a href="#Fable-REPL-code">Fable REPL code</a></li>
</ul>
</li>
<li><a href="#FSharp-to-JS">F# to JS</a></li>
<li>
<a href="#JS-in-F#">JS in F#</a>
<ul>
<li><a href="#Dynamic-casting">Dynamic casting</a></li>
<li><a href="#Setting-up-an-interface">Setting up an interface</a></li>
<li><a href="#Typesafety">Typesafety?</a></li>
</ul>
</li>
<li><a href="#Further-reading">Further reading</a></li>
</ul>
<h2><a name="What-is-Fable" class="anchor" href="#What-is-Fable">What is Fable</a></h2>
<blockquote>
<p>Fable is a compiler that lets you use F# to build applications that run in the JavaScript ecosystem.</p>
</blockquote>
<p>What does this exactly mean?</p>
<p>You can write F# code and let fable translate it to javascript. (The following window shows <a href="https://fable.io/repl/">Fable REPL</a> and in-browser tool live translating F# code to javascript.)</p>
<br>
<details>
<summary>Click to show Fable REPL</summary>
<iframe height="600px" width="100%" src="https://fable.io/repl/#?code=LYewJgrgNgpgBAFRBATgOgKoDsCWIsDOAsAFCkD05cAYiiMHABYAuzADgQFyVggDGBNMBx86BEADNmaPvXIwsAWggFyvZlhjNyEgowCGKNuWbIUFKgDUcBHMzjNG8KDiwBrOPoBGIAG7wJEBQ4UBR4V0CUYH1mPCw4fDgYfT5GBxA2EQs4AE1kOD59eP0ocTgJVzAQoOdklFwsAHM4MPFUPhgCT3sWdi5KXQMjNCDG8lJSDIU4AGUATwJmGGAJklBIWDgAERtRHGEsGJgwbDiugF5VuGu4SioEJ3KQKCgQAHdXZrC2VoVmLsc8AIEDsCQknjgbCg+jmnwKhjAaFINwcczY8BmIPslxIKJRAB84AAJOr-ZF466EgDCUAgXmIuIpcEJO30oCwYAZTOZszY+jAnSuNzucAAgttdih9q4jlVTolCsVSiA4F54CpjukWjAfp0-g5Higih5JBCoTC4YUUIjyddmGj4AAlY1wHHckWOnW-LD-A3wI3uMHw61dABMcDQaDgAEYAAy2vGEywlCDwU2uZgJglijpZm6EgDSnzzlLgAEVUwoSzyAFIpNxCikinYEPYHWVweWEeFKsr7KHLfUgLwAKxgfGYiiCOD+muAyzVKEE1cWMREIQXMGCAHEtKKXs73AQABQASld1ZRAG04LCYFAqqLc4zuSjInAcB-4uHIzHY3BeFvGcHzgZNaXCS88TvEC6z4BsX1fa5oKqCsYCrBDEOQuAiyaOAAF1G1uShEEYGwPy6fRtVka1UXRA0YgKegvFcToIUxUEiiqSjDzcJEEJFABJZgAHIulkYB2S1DVVRARw4E9ajOU8DkJVbKV2yWOVcHwLo3iceJvm9WJcLAGJ9D4lF7ToqkEVdOAAG9ZixTgnLsABueTjRcni4AAX0IkUHjI8S2AgJYKLgFxFm1XUCD+OESigP1gyU1xkoFOCLJuWB7AkaAoC2ccPDdJkr0Jd9gVBNKbxJQx-g81l2U5DyaTpAgPJmPkBQIPCAJASC3yCFoXTSni0F3Zh9ygHiT3PXgBqZLDHPY5hzkq5gPJ484Aw8XzmQIsh+OIoKuhgAAPNkB0YrB-BQX1KOEmzrWEhJR3HexTAhRYpSaLLrhyuA9HeAAFaFYSaJ6qmPPgXMh88SopAGdpmZgfuaBHX2iZhUgKNAfI+RwFsJJ94EUAA+OAACIScponsLhcmqZwxpaYwplCVQ6ZGcpzmsFZxDS1gjxuaF-mBaTFN4HiRnvrhLBqwB9aUbRi82YpLGcb4NAVrgAnGDp1r6Tgbm+FpekxcQlkcDZfAlO5sBraaggLdfQlOv5VjuYILrOhd7lCVqu6um5pw6ud6tkdRuE4AAaipoNKdjwGsWV4tDpRQLSNOi7gCun4Mwol5kqtVLikhMG4Qy3iEwB-OfSmyHZtV7l3xLr9ynywq4L6ha6+YCR4kpgBSZ24GPIG3lBi0IdskvT0IgGwCNN4AHlNFFDlgZ+5hIbPZumSRzi7M0N5ZgWJZgDxzj6DPas8peLveKvANEQAOXO5hj3vgqirQAAZBQjRHCnl6tWfEFNx6MBBhXGeNEyYUz7gPKmI9Kbz0OgmJe+hV7r03tvXeaCUSYOwTADeYAt4ZnwRg5ea8SG4IoQiW+6DDpAA&html=DwCwLgtgNgfAsAKAAQqaApgQwCb2ag4CdMTJcMABwFp0BHAVwEsA3AXgCIBhAewDsw6AdQAqAT0roOSAMb9BAzoIAeYAPThoAbhkhMAJwDOJNgzAAzagA4OeQhqy5EhAEY9sYu6mBq3HvD6asEA&css=Q"></iframe>
</details>
<br>
<p>Target runtime is JavaScript! <em>All code execution will be done on a JavaScript level</em>. Fable output can only be executed in the Browser.</p>
<h2><a name="Fable-Example" class="anchor" href="#Fable-Example">Fable Example</a></h2>
<p>The Fable application with the final code can be found in the root directory of the <a href="https://github.com/CSBiology/CSBlog">CSBlog</a> repository.</p>
<ul>
<li>Download <code>How2Fable.zip</code> (if you download the whole repo, you will need to move the zip out of it, or it will lead to depedency issues and it will not run)</li>
<li>Unzip it</li>
<li>Open powershell/commandline in the unzipped <code>How2Fable</code> folder.</li>
<li><code>npm install</code></li>
<li><code>npm start</code></li>
<li>open browser at <code>localhost:8080</code></li>
</ul>
<p>All further examples are based on the standard Fable template, which you can install as described <a href="https://fable.io/docs/2-steps/your-first-fable-project.html">here</a>.</p>
<h3><a name="Fable-Template" class="anchor" href="#Fable-Template">Fable Template</a></h3>
<p>Short summary:</p>
<ul>
<li><code>dotnet new --install Fable.Template</code> &#10142; install newest Fable template.</li>
<li><code>dotnet new fable</code> &#10142; create new Fable template in open folder.</li>
<li><code>npm install</code> &#10142; install all JS dependencies.</li>
<li><code>npm start</code> &#10142; install all .NET dependencies and start local webpack server with fable output.</li>
</ul>
<p>You can find the example project in the CSBlogpost repository (<em>How2Fable</em>-Folder).</p>
<p>First to the important elements in the fable folder:</p>
<ul>
<li>
<code>package.json</code>
<ul>
<li><code>scripts</code> defines for example <code>npm start</code> as <code>dotnet fable watch src --run webpack-dev-server</code></li>
<li><code>devDependencies</code> reference of all JS dependencies.</li>
</ul>
</li>
<li><code>webpack.config.js</code> all settings for webapplication. For exmaple, determines localhost port.</li>
<li><code>public\index.html</code> the base <a href="https://www.w3schools.com/html/default.asp">html</a> page displayed in browser.</li>
<li><code>public\bundle.js</code> all Fable output bundled together.</li>
<li>
<code>src</code>, this folder contains the F# project, which will be compiled to JS.
<ul>
<li>Can use <a href="https://fsprojects.github.io/Paket/">paket</a> or nuget references in <code>.fsproj</code> file for dependencies.</li>
<li>Can consist of multiple <code>.fs</code> files.</li>
</ul>
</li>
</ul>
<h3><a name="Fable-REPL-code" class="anchor" href="#Fable-REPL-code">Fable REPL code</a></h3>
<p>In the next step I added the code from the Fable REPL above to the Fable template project and adjusted the button for it.
This will result in a button (which can be found in the <code>index.html</code>), which displays on-click one drawn card.</p>
<details>
<summary>index.html code</summary>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="html"><span class="c">&lt;!--index.html--&gt;</span>
<span class="k">&lt;</span><span class="i">body</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">p</span><span class="k">&gt;</span>Fable is running<span class="k">&lt;/</span><span class="i">p</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">p</span><span class="k">&gt;</span>You can click on this button:<span class="k">&lt;/</span><span class="i">p</span><span class="k">&gt;</span>
    <span class="c">&lt;!--This is our button--&gt;</span>
    <span class="k">&lt;</span><span class="i">button</span> <span class="o">class</span><span class="k">="my-button"</span><span class="k">&gt;</span>Click me<span class="k">&lt;/</span><span class="i">button</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">script</span> <span class="o">src</span><span class="k">="bundle.js"</span><span class="k">&gt;&lt;/</span><span class="i">script</span><span class="k">&gt;</span>
<span class="k">&lt;/</span><span class="i">body</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
</details>
<details>
<summary>App.fs code</summary>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// App.fs</span>
<span class="c">/// </span>
<span class="k">module</span> <span class="id">Cards</span> <span class="o">=</span>

    <span class="c">/// The following represents the suit of a playing card.</span>
    <span class="k">type</span> <span class="id">Suit</span> <span class="o">=</span>
        <span class="pn">|</span> <span class="id">Hearts</span>
        <span class="pn">|</span> <span class="id">Clubs</span>
        <span class="pn">|</span> <span class="id">Diamonds</span>
        <span class="pn">|</span> <span class="id">Spades</span>

    <span class="c">/// A Discriminated Union can also be used to represent the rank of a playing card.</span>
    <span class="k">type</span> <span class="id">Rank</span> <span class="o">=</span>
        <span class="c">/// Represents the rank of cards 2 .. 10</span>
        <span class="pn">|</span> <span class="id">Value</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">int</span>
        <span class="pn">|</span> <span class="id">Ace</span>
        <span class="pn">|</span> <span class="id">King</span>
        <span class="pn">|</span> <span class="id">Queen</span>
        <span class="pn">|</span> <span class="id">Jack</span>

        <span class="c">/// Discriminated Unions can also implement object-oriented members.</span>
        <span class="k">static</span> <span class="k">member</span> <span class="id">GetAllRanks</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>
            <span class="pn">[</span> <span class="k">yield</span> <span class="id">Ace</span>
              <span class="k">for</span> <span class="id">i</span> <span class="k">in</span> <span class="n">2</span> <span class="o">..</span> <span class="n">10</span> <span class="k">do</span> <span class="k">yield</span> <span class="id">Value</span> <span class="id">i</span>
              <span class="k">yield</span> <span class="id">Jack</span>
              <span class="k">yield</span> <span class="id">Queen</span>
              <span class="k">yield</span> <span class="id">King</span> <span class="pn">]</span>

    <span class="c">/// This is a record type that combines a Suit and a Rank.</span>
    <span class="c">/// It&#39;s common to use both Records and Discriminated Unions when representing data.</span>
    <span class="k">type</span> <span class="id">Card</span> <span class="o">=</span> <span class="pn">{</span> <span class="id">Suit</span><span class="pn">:</span> <span class="id">Suit</span><span class="pn">;</span> <span class="id">Rank</span><span class="pn">:</span> <span class="id">Rank</span> <span class="pn">}</span>

    <span class="c">/// This computes a list representing all the cards in the deck.</span>
    <span class="k">let</span> <span class="id">fullDeck</span> <span class="o">=</span>
        <span class="pn">[|</span> <span class="k">for</span> <span class="id">suit</span> <span class="k">in</span> <span class="pn">[</span> <span class="id">Hearts</span><span class="pn">;</span> <span class="id">Diamonds</span><span class="pn">;</span> <span class="id">Clubs</span><span class="pn">;</span> <span class="id">Spades</span><span class="pn">]</span> <span class="k">do</span>
              <span class="k">for</span> <span class="id">rank</span> <span class="k">in</span> <span class="id">Rank</span><span class="pn">.</span><span class="id">GetAllRanks</span><span class="pn">(</span><span class="pn">)</span> <span class="k">do</span>
                  <span class="k">yield</span> <span class="pn">{</span> <span class="id">Suit</span><span class="o">=</span><span class="id">suit</span><span class="pn">;</span> <span class="id">Rank</span><span class="o">=</span><span class="id">rank</span> <span class="pn">}</span> <span class="pn">|]</span>

    <span class="c">/// This example converts a &#39;Card&#39; object to a string.</span>
    <span class="k">let</span> <span class="id">showPlayingCard</span> <span class="pn">(</span><span class="id">c</span><span class="pn">:</span> <span class="id">Card</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">let</span> <span class="id">rankString</span> <span class="o">=</span>
            <span class="k">match</span> <span class="id">c</span><span class="pn">.</span><span class="id">Rank</span> <span class="k">with</span>
            <span class="pn">|</span> <span class="id">Ace</span> <span class="k">-&gt;</span> <span class="s">&quot;Ace&quot;</span>
            <span class="pn">|</span> <span class="id">King</span> <span class="k">-&gt;</span> <span class="s">&quot;King&quot;</span>
            <span class="pn">|</span> <span class="id">Queen</span> <span class="k">-&gt;</span> <span class="s">&quot;Queen&quot;</span>
            <span class="pn">|</span> <span class="id">Jack</span> <span class="k">-&gt;</span> <span class="s">&quot;Jack&quot;</span>
            <span class="pn">|</span> <span class="id">Value</span> <span class="id">n</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">string</span> <span class="id">n</span>
        <span class="k">let</span> <span class="id">suitString</span> <span class="o">=</span>
            <span class="k">match</span> <span class="id">c</span><span class="pn">.</span><span class="id">Suit</span> <span class="k">with</span>
            <span class="pn">|</span> <span class="id">Clubs</span> <span class="k">-&gt;</span> <span class="s">&quot;clubs&quot;</span>
            <span class="pn">|</span> <span class="id">Diamonds</span> <span class="k">-&gt;</span> <span class="s">&quot;diamonds&quot;</span>
            <span class="pn">|</span> <span class="id">Spades</span> <span class="k">-&gt;</span> <span class="s">&quot;spades&quot;</span>
            <span class="pn">|</span> <span class="id">Hearts</span> <span class="k">-&gt;</span> <span class="s">&quot;hearts&quot;</span>
        <span class="id">rankString</span>  <span class="o">+</span> <span class="s">&quot; of &quot;</span> <span class="o">+</span> <span class="id">suitString</span>

    <span class="c">/// This example prints all the cards in a playing deck.</span>
    <span class="k">let</span> <span class="id">printAllCards</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">for</span> <span class="id">card</span> <span class="k">in</span> <span class="id">fullDeck</span> <span class="k">do</span>
            <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">printfn</span> <span class="s">&quot;%s&quot;</span> <span class="pn">(</span><span class="id">showPlayingCard</span> <span class="id">card</span><span class="pn">)</span>

    <span class="k">let</span> <span class="id">drawOneAndPrintCard</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">let</span> <span class="id">rand</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">Random</span><span class="pn">(</span><span class="pn">)</span>
        <span class="id">fullDeck</span><span class="pn">.</span><span class="pn">[</span><span class="id">rand</span><span class="pn">.</span><span class="id">Next</span><span class="pn">(</span><span class="id">fullDeck</span><span class="pn">.</span><span class="id">Length</span><span class="pn">)</span><span class="pn">]</span> 
        <span class="o">|&gt;</span> <span class="pn">(</span><span class="id">showPlayingCard</span><span class="pn">)</span>

<span class="c">// Mutable variable to count the number of times we clicked the button</span>
<span class="k">let</span> <span class="k">mutable</span> <span class="id">drawnCard</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>

<span class="c">// Get a reference to our button (in file: index.html) and cast the Element to an HTMLButtonElement.</span>
<span class="c">/// The last step is necessary as the compiler does otherwise not understand which type the html element has.</span>
<span class="k">let</span> <span class="id">myButton</span> <span class="o">=</span> <span class="id">document</span><span class="pn">.</span><span class="id">querySelector</span><span class="pn">(</span><span class="s">&quot;.my-button&quot;</span><span class="pn">)</span> <span class="o">:?&gt;</span> <span class="id">Browser</span><span class="pn">.</span><span class="id">Types</span><span class="pn">.</span><span class="id">HTMLButtonElement</span>

<span class="c">// Register our listener</span>
<span class="id">myButton</span><span class="pn">.</span><span class="id">onclick</span> <span class="k">&lt;-</span> <span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="id">drawnCard</span> <span class="k">&lt;-</span> <span class="id">Cards</span><span class="pn">.</span><span class="id">drawOneAndPrintCard</span><span class="pn">(</span><span class="pn">)</span>
    <span class="id">myButton</span><span class="pn">.</span><span class="id">innerText</span> <span class="k">&lt;-</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="id">sprintf</span> <span class="s">&quot;You pulled: %s &quot;</span> <span class="id">drawnCard</span>
</code></pre>
</details>
<p>The example will at this point, and after clicking the button, look like this:</p>
<p><img src="../img/How2Fable_example1.png" alt="Image of Fable with the code implemented" /></p>
<h2><a name="FSharp-to-JS" class="anchor" href="#FSharp-to-JS">FSharp to JS</a></h2>
<p>How can Fable translate our F# code to JS? Because most functions of the core F# libraries were redone in JS and Fable downloads these functions to <code>src\.fable</code>.
These are then used to compile the F# source files into their JS counterparts. After <code>npm start</code>, Fable will create <code>.fs.js</code> (default) files from all F# source files.
For example <code>App.fs</code>  &#10142; <code>App.fs.js</code>. If we look into these, we can see that the modules are imported from the <code>.fable</code> folder and used to translate our code.
This translated code will be used for the webpack app.</p>
<p>To further showcase this, I created a new source file <code>SearchMe.fs</code> with just one binding and call this binding from the App.fs file.
This is necessary, as <code>App.fs</code> is defined as our app entry in the <code>webpack.config.js</code> and Fable will only compile referenced F# code to JS, to minimize bloat.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// SearchMe.fs</span>
<span class="c">///</span>
<span class="k">module</span> <span class="id">SearchMe</span>

<span class="k">let</span> <span class="id">iAmAVeryLongAndEasilySearchableName</span> <span class="o">=</span> <span class="s">&quot;Hello World&quot;</span>
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// App.fs</span>
<span class="c">///</span>
<span onmouseout="hideTip(event, 'fs3', 7)" onmouseover="showTip(event, 'fs3', 7)" class="id">printfn</span> <span class="s">$&quot;{</span><span class="id">SearchMe</span><span class="pn">.</span><span class="id">iAmAVeryLongAndEasilySearchableName</span><span class="s">}&quot;</span>
</code></pre>
<p><code>npm run build</code> will bundle all Fable-compiled JS files into <code>public\bundle.js</code>. This file will contain imports from <code>./src/.fable/</code>,
but also one for each F# source file. If we search it for <code>iAmAVeryLongAndEasilySearchableName</code> or <code>drawOneAndPrintCard</code> we will find the respective JS code.</p>
<br>
<p>Because Fable can only compile code patterns and the functions from the modules in <code>src\.fable</code> it is <strong>not</strong> possible to compile any F# library with Fable out of the box.</p>
<p>If we add <code>&lt;PackageReference Include="FSharp.Stats" Version="0.4.3" /&gt;</code> to <code>App.fsproj</code> it will return an error.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// App.fs</span>
<span class="c">///</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="id">FSharp</span><span class="pn">.</span><span class="id">Stats</span>

<span class="c">// Example from https://fslab.org/FSharp.Stats/BasicStats.html</span>
<span class="k">let</span> <span class="id">mean1</span> <span class="o">=</span> 
    <span class="pn">[</span><span class="n">10</span><span class="pn">;</span> <span class="n">2</span><span class="pn">;</span> <span class="n">19</span><span class="pn">;</span> <span class="n">24</span><span class="pn">;</span> <span class="n">6</span><span class="pn">;</span> <span class="n">23</span><span class="pn">;</span> <span class="n">47</span><span class="pn">;</span> <span class="n">24</span><span class="pn">;</span> <span class="n">54</span><span class="pn">;</span> <span class="n">77</span><span class="pn">;</span><span class="pn">]</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="id">Seq</span><span class="pn">.</span><span class="id">meanBy</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="id">float</span>

<span onmouseout="hideTip(event, 'fs3', 11)" onmouseover="showTip(event, 'fs3', 11)" class="id">printfn</span> <span class="s">$&quot;{</span><span class="id">mean1</span><span class="s">}&quot;</span>
</code></pre>
<p>Error in powershell/cmd.</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="powershell">F# compilation finished in 59ms
C:/Users/User/source/repos/How2Fable/src/App.fs(70,13): (70,18) error FSHARP: The namespace 'Stats' is not defined. (code 39)
C:/Users/User/source/repos/How2Fable/src/App.fs(74,12): (74,18) error FSHARP: The value, constructor, namespace or type 'meanBy' is not defined. Maybe you want one of the following:
   maxBy
   minBy
   maxBy
   minBy (code 39)
Watching src
</code></pre></td></tr></table>
<p>Fable has no idea about the <code>Seq.meanBy</code> function and cannot translate it to JS. For a list of Fable compatible libraries you can look
<a href="https://fable.io/docs/dotnet/compatibility.html">here</a> for F# Core libraries and <a href="https://fable.io/resources.html#Libraries">here</a> for community ressources.</p>
<p>It is also <strong>possible to make F# libraries Fable compatible</strong> as described <a href="https://fable.io/docs/your-fable-project/author-a-fable-library.html">here</a>.
This was for example done for the <a href="https://github.com/nfdi4plants/ISADotNet/blob/developer/src/ISADotnet/ISADotNet.fsproj#L65">ISADotNet library</a> with a
conditional trigger, to publish two nuget package versions. One with and one without Fable compatibility.</p>
<details>
<summary>App.fsproj code</summary>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="xml"><span class="c">&lt;!--App.fsproj--&gt;</span>
<span class="k">&lt;</span><span class="i">ItemGroup</span> <span class="o">Condition</span><span class="k">=" '$(PackageId)' == 'ISADotNet.Fable' "</span><span class="k">&gt;</span>
  <span class="k">&lt;</span><span class="i">Content</span> <span class="o">Include</span><span class="k">="*.fsproj; **\*.fs; **\*.fsi"</span> <span class="o">PackagePath</span><span class="k">="fable\"</span> <span class="k">/&gt;</span>
<span class="k">&lt;/</span><span class="i">ItemGroup</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
</details>
<details>
<summary>build.fsx code</summary>
<p>This code is a modified version of the build target from the <a href="https://github.com/CSBiology/KnowledgeBase/blob/main/knowledgebase/devops/library-development/full-guide.md#packing-a-nuget-package">libary development knowledgebase article</a>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="s">/// build.fsx</span>
<span class="s">///</span>
<span class="s">let pack = BuildTask.create &quot;</span><span class="id">Pack</span><span class="s">&quot; [clean; build; runTests; copyBinaries] {</span>
<span class="s">    if promptYesNo (sprintf &quot;</span><span class="id">creating</span> <span class="id">stable</span> <span class="id">package</span> <span class="k">with</span> <span class="id">version</span> <span class="o">%</span><span class="id">s</span> <span class="id">OK</span><span class="o">?</span><span class="s">&quot; stableVersionTag ) </span>
<span class="s">        then</span>
<span class="s">            !! &quot;</span><span class="id">src</span><span class="o">/**/*.*</span><span class="id">proj</span><span class="s">&quot;</span>
<span class="s">            |&gt; Seq.iter (Fake.DotNet.DotNet.pack (fun p -&gt;</span>
<span class="s">                let msBuildParams =</span>
<span class="s">                    {p.MSBuildParams with </span>
<span class="s">                        Properties = ([</span>
<span class="s">                            &quot;</span><span class="id">Version</span><span class="s">&quot;,stableVersionTag</span>
<span class="s">                            &quot;</span><span class="id">PackageReleaseNotes</span><span class="s">&quot;,  (release.Notes |&gt; List.map replaceCommitLink |&gt; String.concat &quot;</span>
                        <span class="pn">]</span> <span class="id">@</span> <span class="id">p</span><span class="pn">.</span><span class="id">MSBuildParams</span><span class="pn">.</span><span class="id">Properties</span><span class="pn">)</span>
                    <span class="pn">}</span>
                <span class="pn">{</span>
                    <span class="id">p</span> <span class="k">with</span> 
                        <span class="id">MSBuildParams</span> <span class="o">=</span> <span class="id">msBuildParams</span>
                        <span class="id">OutputPath</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="id">Some</span> <span class="id">pkgDir</span>
                <span class="pn">}</span>
            <span class="pn">)</span><span class="pn">)</span>
            <span class="c">/// This is used to create ISADotNet.Fable with the Fable subfolder as explained here:</span>
            <span class="c">/// https://fable.io/docs/your-fable-project/author-a-fable-library.html</span>
            <span class="s">&quot;src/ISADotNet/ISADotNet.fsproj&quot;</span>
            <span class="o">|&gt;</span> <span class="id">Fake</span><span class="pn">.</span><span class="id">DotNet</span><span class="pn">.</span><span class="id">DotNet</span><span class="pn">.</span><span class="id">pack</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">p</span> <span class="k">-&gt;</span>
                <span class="k">let</span> <span class="id">msBuildParams</span> <span class="o">=</span>
                    <span class="pn">{</span><span class="id">p</span><span class="pn">.</span><span class="id">MSBuildParams</span> <span class="k">with</span> 
                        <span class="id">Properties</span> <span class="o">=</span> <span class="pn">(</span><span class="pn">[</span>
                            <span class="s">&quot;PackageId&quot;</span><span class="pn">,</span> <span class="s">&quot;ISADotNet.Fable&quot;</span>
                            <span class="s">&quot;Version&quot;</span><span class="pn">,</span><span class="id">stableVersionTag</span>
                            <span class="s">&quot;Description&quot;</span><span class="pn">,</span><span class="s">&quot;Fable compliant release for the ISA compliant experimental metadata toolkit in F#. Additionally to the compiled library, it is shipped with the uncompiled code.&quot;</span>
                            <span class="s">&quot;PackageTags&quot;</span><span class="pn">,</span><span class="s">&quot;F# FSharp dotnet .Net bioinformatics biology datascience metadata investigation study assay ISA Json Fable&quot;</span>
                            <span class="s">&quot;PackageReleaseNotes&quot;</span><span class="pn">,</span>  <span class="pn">(</span><span class="id">release</span><span class="pn">.</span><span class="id">Notes</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="id">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 14)" onmouseover="showTip(event, 'fs12', 14)" class="id">map</span> <span class="id">replaceCommitLink</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs13', 15)" onmouseover="showTip(event, 'fs13', 15)" class="id">String</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 16)" onmouseover="showTip(event, 'fs14', 16)" class="id">concat</span> <span class="s">&quot;\r\n&quot;</span><span class="pn">)</span>
                        <span class="pn">]</span> <span class="id">@</span> <span class="id">p</span><span class="pn">.</span><span class="id">MSBuildParams</span><span class="pn">.</span><span class="id">Properties</span><span class="pn">)</span>
                    <span class="pn">}</span>
                <span class="k">let</span> <span class="id">test</span> <span class="o">=</span> <span class="id">p</span>
                <span class="pn">{</span>
                    <span class="id">p</span> <span class="k">with</span> 
                        <span class="id">MSBuildParams</span> <span class="o">=</span> <span class="id">msBuildParams</span>
                        <span class="id">OutputPath</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 17)" onmouseover="showTip(event, 'fs10', 17)" class="id">Some</span> <span class="id">pkgDir</span>
                <span class="pn">}</span>
            <span class="pn">)</span>
    <span class="k">else</span> <span onmouseout="hideTip(event, 'fs15', 18)" onmouseover="showTip(event, 'fs15', 18)" class="id">failwith</span> <span class="s">&quot;aborted&quot;</span>
<span class="pn">}</span>
</code></pre>
</details>
<p><em>(ISADotNet was changed and is at the time of writing not Fable compatible, because of the JSON parser library.)</em></p>
<h2><a name="JS-in-FSharp" class="anchor" href="#JS-in-FSharp">JS in FSharp</a></h2>
<p>Some of the following text is based on an explanation from the awesome guys at <a href="https://twitter.com/compositionalit">@compositionalit</a>!</p>
<p>One of the big advantages of Fable is not only that F# code becomes accessible with JavaScript, but also that one can use JavaScript libraries in F#.</p>
<p>The javascript library that we'll be interacting with is <a href="https://www.npmjs.com/package/shuffle">shuffle</a>, because why should we implement a all those cards functions if they already exist ..</p>
<h3><a name="Installing-the-shuffle-npm-package" class="anchor" href="#Installing-the-shuffle-npm-package">Installing the shuffle npm package</a></h3>
<ol>
<li>Install the <code>shuffle</code> package using <code>npm</code> or <code>yarn</code></li>
</ol>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="powershell">npm install shuffle
</code></pre></td></tr></table>
<h3><a name="Dynamic-casting" class="anchor" href="#Dynamic-casting">Dynamic casting</a></h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// App.fs</span>
<span class="c">///</span>
<span class="k">open</span> <span class="id">Fable</span><span class="pn">.</span><span class="id">Core</span><span class="pn">.</span><span class="id">JsInterop</span>

<span class="k">let</span> <span class="id">shuffle</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs16', 19)" onmouseover="showTip(event, 'fs16', 19)" class="id">obj</span> <span class="o">=</span> <span class="id">importDefault</span> <span class="s">&quot;shuffle&quot;</span>

<span class="id">console</span><span class="pn">.</span><span class="id">log</span><span class="pn">(</span><span class="id">shuffle</span><span class="pn">)</span>
</code></pre>
<blockquote>
<p>For more information on import statements in fable visit the <a href="https://safe-stack.github.io/docs/recipes/javascript/import-js-module/">SAFE documentation</a> or the <a href="https://fable.io/docs/">offical Fable docs</a>.</p>
</blockquote>
<ol>
<li><p>To check that the package has been brought in add <code>console.log(shuffle)</code> within the <code>App.fs</code> file</p></li>
<li>Open the browsers console window (Shift + âŒ˜ + J (on macOS) or Shift + CTRL + J (on Windows/Linux)) and you should see something like:</li>
</ol>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="javascript">{ Object
    playingCards: Æ’ ()
    shuffle: Æ’ (options)
    [[Prototype]]: Object }
</code></pre></td></tr></table>
<p>If you've done something wrong such as mispelling the import you may see:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="javascript">client:<span class="n">159</span> ./src/App.fs.js
Module not found: Error: Can't resolve <span class="s">'shufle'</span> <span class="k">in</span> <span class="s">'C:\Users\User\source\repos\How2Fable\src'</span>
</code></pre></td></tr></table>
<h3><a name="Use-dynamic-casting-to-access-members" class="anchor" href="#Use-dynamic-casting-to-access-members">Use dynamic casting to access members.</a></h3>
<p>Dynamic casting relies on your understanding of the code. The <code>?</code> operator allows us to access any members of our JsInterop elements.</p>
<p>The following is taken from the official documentation. We want to access those functions with the <code>?</code> operator.</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="javascript"><span class="c">// shuffle documentation in JavaScript</span>
<span class="k">var</span> Shuffle <span class="o">=</span> require(<span class="s">'shuffle'</span>);
<span class="k">var</span> deck <span class="o">=</span> Shuffle.shuffle();
<span class="k">var</span> card <span class="o">=</span> deck.draw();
</code></pre></td></tr></table>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Dynamic casting in F# </span>
<span class="k">let</span> <span class="id">shuffle</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs16', 20)" onmouseover="showTip(event, 'fs16', 20)" class="id">obj</span> <span class="o">=</span> <span class="id">importDefault</span> <span class="s">&quot;shuffle&quot;</span>
<span class="k">let</span> <span class="id">deck</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs16', 21)" onmouseover="showTip(event, 'fs16', 21)" class="id">obj</span> <span class="o">=</span> <span class="id">shuffle</span><span class="o">?</span><span class="id">shuffle</span><span class="pn">(</span><span class="pn">)</span>
<span class="k">let</span> <span class="id">card</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs16', 22)" onmouseover="showTip(event, 'fs16', 22)" class="id">obj</span> <span class="o">=</span> <span class="id">deck</span><span class="o">?</span><span class="id">draw</span><span class="pn">(</span><span class="pn">)</span>
<span class="id">console</span><span class="pn">.</span><span class="id">log</span><span class="pn">(</span><span class="id">card</span><span class="pn">)</span>
</code></pre>
<p>We check our console and see that it worked and we got a random card consisting of 3 values: suit, description and sort.
In addition a <code>card</code> has two more members <code>toShortDisplayString</code> and <code>toString</code>. Which we can access in the same way.</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="javascript"><span class="c">// console.log(card)</span>

module.exports {suit: <span class="s">'Spade'</span>, description: <span class="s">'Ten'</span>, sort: <span class="n">10</span>, toString: Æ’, toShortDisplayString: Æ’}
description: <span class="s">"Ten"</span>
sort: <span class="n">10</span>
suit: <span class="s">"Spade"</span>
toShortDisplayString: Æ’ ()
toString: Æ’ ()
</code></pre></td></tr></table>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// F#</span>
<span class="id">console</span><span class="pn">.</span><span class="id">log</span><span class="pn">(</span><span class="id">card</span><span class="o">?</span><span class="id">toShortDisplayString</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
<span class="id">console</span><span class="pn">.</span><span class="id">log</span><span class="pn">(</span><span class="id">card</span><span class="o">?</span><span class="id">toString</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="n">10S</span>
<span class="id">Ten</span> <span class="k">of</span> <span class="id">Spades</span>
</code></pre>
<p>We implement our dynamic casting functions for a button, by duplicating the button functionality with <code>myButton2</code>.</p>
<details>
<summary>myButton2</summary>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="html"><span class="c">&lt;!--index.html--&gt;</span>
<span class="k">&lt;</span><span class="i">body</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">p</span><span class="k">&gt;</span>Fable is running<span class="k">&lt;/</span><span class="i">p</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">p</span><span class="k">&gt;</span>You can click on this button:<span class="k">&lt;/</span><span class="i">p</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">button</span> <span class="o">class</span><span class="k">="my-button"</span><span class="k">&gt;</span>Click me<span class="k">&lt;/</span><span class="i">button</span><span class="k">&gt;</span>
    <span class="c">&lt;!--This is our new button--&gt;</span>
    <span class="k">&lt;</span><span class="i">button</span> <span class="o">class</span><span class="k">="my-button2"</span><span class="k">&gt;</span>Click me<span class="k">&lt;/</span><span class="i">button</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">script</span> <span class="o">src</span><span class="k">="bundle.js"</span><span class="k">&gt;&lt;/</span><span class="i">script</span><span class="k">&gt;</span>
<span class="k">&lt;/</span><span class="i">body</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// App.fs</span>
<span class="c">///</span>
<span class="k">open</span> <span class="id">Fable</span><span class="pn">.</span><span class="id">Core</span><span class="pn">.</span><span class="id">JsInterop</span>

<span class="k">let</span> <span class="k">mutable</span> <span class="id">drawnCard2</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>

<span class="k">let</span> <span class="id">myButton2</span> <span class="o">=</span> <span class="id">document</span><span class="pn">.</span><span class="id">querySelector</span><span class="pn">(</span><span class="s">&quot;.my-button2&quot;</span><span class="pn">)</span> <span class="o">:?&gt;</span> <span class="id">Browser</span><span class="pn">.</span><span class="id">Types</span><span class="pn">.</span><span class="id">HTMLButtonElement</span>
<span class="id">myButton2</span><span class="pn">.</span><span class="id">onclick</span> <span class="k">&lt;-</span> <span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="id">drawnCard2</span> <span class="k">&lt;-</span> <span class="id">JsInteropDynamicCasting</span><span class="pn">.</span><span class="id">deck</span><span class="o">?</span><span class="id">drawRandom</span><span class="pn">(</span><span class="pn">)</span><span class="o">?</span><span class="id">toString</span><span class="pn">(</span><span class="pn">)</span>
    <span class="id">myButton2</span><span class="pn">.</span><span class="id">innerText</span> <span class="k">&lt;-</span> <span onmouseout="hideTip(event, 'fs6', 23)" onmouseover="showTip(event, 'fs6', 23)" class="id">sprintf</span> <span class="s">&quot;You pulled: %s &quot;</span> <span class="id">drawnCard2</span>
</code></pre>
</details>
<p>And it works! ðŸŽ‰</p>
<p><img src="../img/How2Fable_example2.png" alt="Fable example for dynamic casting button" /></p>
<h3><a name="Setting-up-an-interface" class="anchor" href="#Setting-up-an-interface">Setting up an interface</a></h3>
<p>Rather than unsafely accessing the <code>shuffle</code> it would be better to use an interface
so that we can use the normal <code>.</code> notation to call methods on <code>shuffle</code>.</p>
<p>Declare an interface type called <code>Shuffle</code>. This interface will have to be declared before:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">Shuffle</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="id">obj</span> <span class="o">=</span> <span class="id">importDefault</span> <span class="s">&quot;shuffle&quot;</span>
</code></pre>
<p>The interface will need an <code>abstract</code> member called <code>shuffle</code> that is a function of type <code>unit -&gt; obj</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="id">Shuffle</span> <span class="o">=</span>
    <span class="k">abstract</span> <span class="k">member</span> <span class="id">shuffle</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs17', 25)" onmouseover="showTip(event, 'fs17', 25)" class="id">unit</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs16', 26)" onmouseover="showTip(event, 'fs16', 26)" class="id">obj</span>
</code></pre>
<p>Update the <code>shuffle</code> import to use the new type <code>Shuffle</code> rather than <code>obj</code>.</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="diff">--  let Shuffle: obj        = importDefault "shuffle"
++  let Shuffle: Shuffle    = importDefault "shuffle"  
</code></pre></td></tr></table>
<p>In the end you can write Fable bindings for all functions of the npm library which could look like the following:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="id">JsInteropInterface</span> <span class="o">=</span>

    <span class="k">open</span> <span class="id">Fable</span><span class="pn">.</span><span class="id">Core</span><span class="pn">.</span><span class="id">JsInterop</span>   

    <span class="k">type</span> <span class="id">Cards</span> <span class="o">=</span> 
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">suit</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs2', 27)" onmouseover="showTip(event, 'fs2', 27)" class="id">string</span> <span class="k">with</span> <span class="id">get</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs18', 28)" onmouseover="showTip(event, 'fs18', 28)" class="id">set</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">description</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs2', 29)" onmouseover="showTip(event, 'fs2', 29)" class="id">string</span> <span class="k">with</span> <span class="id">get</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs18', 30)" onmouseover="showTip(event, 'fs18', 30)" class="id">set</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">sort</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 31)" onmouseover="showTip(event, 'fs1', 31)" class="id">int</span> <span class="k">with</span> <span class="id">get</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="id">set</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">toString</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs17', 33)" onmouseover="showTip(event, 'fs17', 33)" class="id">unit</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs2', 34)" onmouseover="showTip(event, 'fs2', 34)" class="id">string</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">toShortDisplayString</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs17', 35)" onmouseover="showTip(event, 'fs17', 35)" class="id">unit</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs2', 36)" onmouseover="showTip(event, 'fs2', 36)" class="id">string</span>

    <span class="k">type</span> <span class="id">Deck</span> <span class="o">=</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">length</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 37)" onmouseover="showTip(event, 'fs1', 37)" class="id">int</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">cards</span><span class="pn">:</span> <span class="id">Cards</span> <span class="pn">[</span><span class="pn">]</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">draw</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 38)" onmouseover="showTip(event, 'fs1', 38)" class="id">int</span> <span class="k">-&gt;</span> <span class="id">Cards</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">draw</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs17', 39)" onmouseover="showTip(event, 'fs17', 39)" class="id">unit</span> <span class="k">-&gt;</span> <span class="id">Cards</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">drawRandom</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 40)" onmouseover="showTip(event, 'fs1', 40)" class="id">int</span> <span class="k">-&gt;</span> <span class="id">Cards</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">drawRandom</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs17', 41)" onmouseover="showTip(event, 'fs17', 41)" class="id">unit</span> <span class="k">-&gt;</span> <span class="id">Cards</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">putOnTopOfDeck</span><span class="pn">:</span> <span class="id">Cards</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 42)" onmouseover="showTip(event, 'fs17', 42)" class="id">unit</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">putOnTopOfDeck</span><span class="pn">:</span> <span class="id">Cards</span> <span class="pn">[</span><span class="pn">]</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 43)" onmouseover="showTip(event, 'fs17', 43)" class="id">unit</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">putOnBottomOfDeck</span><span class="pn">:</span> <span class="id">Cards</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 44)" onmouseover="showTip(event, 'fs17', 44)" class="id">unit</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">putOnBottomOfDeck</span><span class="pn">:</span> <span class="id">Cards</span> <span class="pn">[</span><span class="pn">]</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs17', 45)" onmouseover="showTip(event, 'fs17', 45)" class="id">unit</span>

    <span class="k">type</span> <span class="id">Shuffle</span> <span class="o">=</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">shuffle</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs17', 46)" onmouseover="showTip(event, 'fs17', 46)" class="id">unit</span> <span class="k">-&gt;</span> <span class="id">Deck</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">shuffle</span><span class="pn">:</span> <span class="id">&#39;</span><span class="id">a</span> <span class="k">-&gt;</span> <span class="id">Deck</span>
        <span class="k">abstract</span> <span class="k">member</span> <span class="id">playingCards</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs17', 47)" onmouseover="showTip(event, 'fs17', 47)" class="id">unit</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs16', 48)" onmouseover="showTip(event, 'fs16', 48)" class="id">obj</span>

    <span class="k">let</span> <span class="id">Shuffle</span><span class="pn">:</span> <span class="id">Shuffle</span> <span class="o">=</span> <span class="id">importAll</span> <span class="s">&quot;shuffle&quot;</span>  
</code></pre>
<p>With this done we can update our <code>myButton2</code> to use our typesafe bindings. While we are at it, we change the mutable to an <code>option</code> and
stop initializing a new deck everytime we press the button.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">mutable</span> <span class="id">drawnCard2</span> <span class="pn">:</span> <span class="id">Cards</span> <span onmouseout="hideTip(event, 'fs19', 49)" onmouseover="showTip(event, 'fs19', 49)" class="id">option</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 50)" onmouseover="showTip(event, 'fs20', 50)" class="id">None</span>
<span class="k">let</span> <span class="id">deck</span> <span class="o">=</span> <span class="id">Shuffle</span><span class="pn">.</span><span class="id">shuffle</span><span class="pn">(</span><span class="pn">)</span>

<span class="k">let</span> <span class="id">myButton2</span> <span class="o">=</span> <span class="id">document</span><span class="pn">.</span><span class="id">querySelector</span><span class="pn">(</span><span class="s">&quot;.my-button2&quot;</span><span class="pn">)</span> <span class="o">:?&gt;</span> <span class="id">Browser</span><span class="pn">.</span><span class="id">Types</span><span class="pn">.</span><span class="id">HTMLButtonElement</span>
<span class="id">myButton2</span><span class="pn">.</span><span class="id">onclick</span> <span class="k">&lt;-</span> <span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="id">drawnCard2</span> <span class="k">&lt;-</span> <span class="id">deck</span><span class="pn">.</span><span class="id">draw</span><span class="pn">(</span><span class="pn">)</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs10', 51)" onmouseover="showTip(event, 'fs10', 51)" class="id">Some</span>
    <span class="id">console</span><span class="pn">.</span><span class="id">log</span> <span class="id">deck</span><span class="pn">.</span><span class="id">length</span>
    <span class="id">myButton2</span><span class="pn">.</span><span class="id">innerText</span> <span class="k">&lt;-</span> <span onmouseout="hideTip(event, 'fs6', 52)" onmouseover="showTip(event, 'fs6', 52)" class="id">sprintf</span> <span class="s">&quot;You pulled: %s &quot;</span> <span class="pn">(</span><span class="id">drawnCard2</span><span class="pn">.</span><span class="id">Value</span><span class="pn">.</span><span class="id">toString</span><span class="pn">(</span><span class="pn">)</span><span class="pn">)</span>
</code></pre>
<h3><a name="Typesafety" class="anchor" href="#Typesafety">Typesafety?</a></h3>
<p>JavaScript is not type safe and while we are writing F# we use the JS runtime to execute our code. This is best shown in the following example.
The implemented <code>deck.putOnTopOfDeck</code> if of type <code>Cards -&gt; unit</code> or <code>Cards [] -&gt; unit</code>. Sadly, the author of <code>shuffle</code> did not intend us to add more standard cards to the deck
and does <strong>not</strong> expose the create function for us to use in Fable. Altough there are some options on how to circumvent this.</p>
<h4><a name="Goal" class="anchor" href="#Goal">Goal</a></h4>
<p>Add a button which puts a specific card on top of the deck with <code>deck.putOnTopOfDeck</code>.</p>
<details>
<summary>Button html</summary>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="html"><span class="c">&lt;!--index.html--&gt;</span>
<span class="k">&lt;</span><span class="i">body</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">p</span><span class="k">&gt;</span>Fable is running<span class="k">&lt;/</span><span class="i">p</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">p</span><span class="k">&gt;</span>You can click on this button:<span class="k">&lt;/</span><span class="i">p</span><span class="k">&gt;</span>
    <span class="c">&lt;!--This are our buttons--&gt;</span>
    <span class="k">&lt;</span><span class="i">button</span> <span class="o">class</span><span class="k">="my-button"</span><span class="k">&gt;</span>Click me<span class="k">&lt;/</span><span class="i">button</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">button</span> <span class="o">class</span><span class="k">="my-button2"</span><span class="k">&gt;</span>Click me<span class="k">&lt;/</span><span class="i">button</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">button</span> <span class="o">class</span><span class="k">="my-button3"</span><span class="k">&gt;</span>Is this allowed?<span class="k">&lt;/</span><span class="i">button</span><span class="k">&gt;</span>
    <span class="k">&lt;</span><span class="i">script</span> <span class="o">src</span><span class="k">="bundle.js"</span><span class="k">&gt;&lt;/</span><span class="i">script</span><span class="k">&gt;</span>
<span class="k">&lt;/</span><span class="i">body</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
</details>
<p>Use <code>deck.putOnTopOfDeck</code> (with the array parameter overload, as the single card version seems to be buggy and does <strong>not</strong> work), but we still need the new card.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">myButton3</span> <span class="o">=</span> <span class="id">document</span><span class="pn">.</span><span class="id">querySelector</span><span class="pn">(</span><span class="s">&quot;.my-button3&quot;</span><span class="pn">)</span> <span class="o">:?&gt;</span> <span class="id">Browser</span><span class="pn">.</span><span class="id">Types</span><span class="pn">.</span><span class="id">HTMLButtonElement</span>
<span class="id">myButton3</span><span class="pn">.</span><span class="id">onclick</span> <span class="k">&lt;-</span> <span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="id">deck</span><span class="pn">.</span><span class="id">putOnTopOfDeck</span> <span class="pn">[|</span><span class="pn">|]</span>
    <span class="id">console</span><span class="pn">.</span><span class="id">log</span> <span class="id">deck</span><span class="pn">.</span><span class="id">length</span>
</code></pre>
<h4><a name="Option-1-Search-and-explicit-import" class="anchor" href="#Option-1-Search-and-explicit-import">Option 1: Search and explicit import.</a></h4>
<p>It is possible to search through the JS library (<code>"\node_modules\shuffle\src\playingCard.js"</code>) to find the <code>card</code> creation and definition logic.
And even though it is not exported to the main <code>index.js</code> we can access the exact file and use it to create <code>Cards</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">playingCard</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs16', 53)" onmouseover="showTip(event, 'fs16', 53)" class="id">obj</span> <span class="o">=</span> <span class="id">importDefault</span> <span class="pn">(</span><span class="s">&quot;../node_modules/shuffle/src/playingCard.js&quot;</span><span class="pn">)</span>
<span class="c">// createNew is a Fable function to simulate the JS `new` operator</span>
<span class="k">let</span> <span class="id">newCard</span> <span class="o">=</span> <span class="id">createNew</span> <span class="id">playingCard</span> <span class="pn">(</span><span class="s">&quot;Heart&quot;</span><span class="pn">,</span> <span class="s">&quot;Five&quot;</span><span class="pn">,</span> <span class="n">5</span><span class="pn">)</span> <span class="o">:?&gt;</span> <span class="id">Cards</span>
</code></pre>
<p>This is only necessary because the author did not intend this behavior, instead we are meant to write our own card type, as shown in the following example from the docs.</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip highlighted"><code lang="javascript"><span class="c">// shuffle docs in JavaScript</span>
<span class="k">var</span> Shuffle <span class="o">=</span> require(<span class="s">'shuffle'</span>);
<span class="k">var</span> goFish <span class="o">=</span> [{color: <span class="s">'red'</span>, number: <span class="n">1</span>}, {color: <span class="s">'blue'</span>, number: <span class="n">2</span>}, ...];
<span class="k">var</span> deck <span class="o">=</span> Shuffle.shuffle({deck: goFish});
</code></pre></td></tr></table>
<p>But more on that later.</p>
<h4><a name="Option-2-Anonymous-records-and-createObject" class="anchor" href="#Option-2-Anonymous-records-and-createObject">Option 2: Anonymous records and createObject</a></h4>
<p>We could imitate the JS <code>card</code> object with different options. Fable translates F# anonymous records to JS objects.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">newCard</span> <span class="pn">:</span> <span class="id">Cards</span> <span class="o">=</span> <span class="o">!!</span><span class="pn">{|</span><span class="id">suit</span> <span class="o">=</span> <span class="s">&quot;Heart&quot;</span><span class="pn">;</span> <span class="id">description</span> <span class="o">=</span> <span class="s">&quot;Five&quot;</span><span class="pn">;</span> <span class="id">sort</span> <span class="o">=</span> <span class="n">5</span><span class="pn">|}</span>
</code></pre>
<p>Although <code>deck.putOnTopOfDeck</code> is of type <code>Cards [] -&gt; unit</code> we can handle the anonymous record as such, because of the <code>!!</code> operator.
It more or less tells the dotnet compiler to not worry about typesafety for whatever follows it. Therefore we can declare <code>newCard : Cards</code>.</p>
<p>If we just add this card to the input array we will get an error, because we try to call the <code>toString()</code> method on the drawn cards and our anonymous record type has no such member.
<em>But</em> we can replace <code>drawnCard2.Value.toString()</code> with for example <code>drawnCard2.Value.suit</code> and it will work just fine! ðŸŽ‰
The Javascript compiler will try to access the <code>suit</code> member and both <code>Cards</code> as well as our anonymous record have this member and we can change the print command accordingly.</p>
<p>Fable provides us with even more alternatives, which work just like the anonymous record type as they will <strong>not</strong> contain the <code>toString()</code> method.</p>
<details>
<summary>Alternative 1</summary>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">newCard</span> <span class="o">=</span> <span class="id">createEmpty</span><span class="pn">&lt;</span><span class="id">Cards</span><span class="pn">&gt;</span>
<span class="id">newCard</span><span class="pn">.</span><span class="id">suit</span> <span class="k">&lt;-</span> <span class="s">&quot;Heart&quot;</span>
<span class="id">newCard</span><span class="pn">.</span><span class="id">description</span> <span class="k">&lt;-</span> <span class="s">&quot;Five&quot;</span>
<span class="id">newCard</span><span class="pn">.</span><span class="id">sort</span> <span class="k">&lt;-</span> <span class="n">5</span>
</code></pre>
</details>
<details>
<summary>Alternative 2</summary>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">newCard</span> <span class="o">=</span> <span class="id">jsOptions</span><span class="pn">&lt;</span><span class="id">Cards</span><span class="pn">&gt;</span><span class="pn">(</span><span class="k">fun</span> <span class="id">newCard</span> <span class="k">-&gt;</span>
    <span class="id">newCard</span><span class="pn">.</span><span class="id">suit</span> <span class="k">&lt;-</span> <span class="s">&quot;Heart&quot;</span>
    <span class="id">newCard</span><span class="pn">.</span><span class="id">description</span> <span class="k">&lt;-</span> <span class="s">&quot;Five&quot;</span>
    <span class="id">newCard</span><span class="pn">.</span><span class="id">sort</span> <span class="k">&lt;-</span> <span class="n">5</span>
<span class="pn">)</span>
</code></pre>
</details>
<br>
<h4><a name="Option-3-F-Record-type" class="anchor" href="#Option-3-F-Record-type">Option 3: F# Record type</a></h4>
<p>As we just saw we can circumvent type safety quite easily and the author already intends us to write our own card type, so we will do exactly that. <sub>(Please do not cringe about the following joke)</sub></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">/// App.fs</span>
<span class="c">///</span>
<span class="c">// https://fable.io/docs/communicate/fable-from-js.html</span>
<span class="pn">[&lt;</span><span class="id">AttachMembers</span><span class="pn">&gt;]</span>
<span class="k">type</span> <span class="id">MyCard</span> <span class="o">=</span> <span class="pn">{</span>
    <span class="id">Name</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs2', 54)" onmouseover="showTip(event, 'fs2', 54)" class="id">string</span>
<span class="pn">}</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> <span class="id">create</span> <span class="id">name</span> <span class="o">=</span> <span class="pn">{</span><span class="id">Name</span> <span class="o">=</span> <span class="id">name</span><span class="pn">}</span>
    <span class="k">member</span> <span class="id">this</span><span class="pn">.</span><span class="id">toString</span><span class="pn">(</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">match</span> <span class="id">this</span><span class="pn">.</span><span class="id">Name</span> <span class="k">with</span>
        <span class="pn">|</span> <span class="s">&quot;Exodia&quot;</span> <span class="k">-&gt;</span> <span class="s">$&quot;{</span><span class="id">this</span><span class="pn">.</span><span class="id">Name</span><span class="s">} &#128561;. That means you win!&quot;</span>
        <span class="pn">|</span> <span class="id">anythingElse</span> <span class="k">-&gt;</span> <span class="s">$&quot;{</span><span class="id">anythingElse</span><span class="s">}?? ..&quot;</span>
</code></pre>
<p>This type is rather different to the <code>Cards</code> type, except it also contains a <code>.toString()</code> method. So we will tell
the typesafe dotnet compiler to not worry and will add our "Joker" to the pile of poker cards.
Because the only time we interact with the card will be when we call the <code>.toString()</code> method it will work without any problems.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="id">myButton3</span> <span class="o">=</span> <span class="id">document</span><span class="pn">.</span><span class="id">querySelector</span><span class="pn">(</span><span class="s">&quot;.my-button3&quot;</span><span class="pn">)</span> <span class="o">:?&gt;</span> <span class="id">Browser</span><span class="pn">.</span><span class="id">Types</span><span class="pn">.</span><span class="id">HTMLButtonElement</span>
<span class="id">myButton3</span><span class="pn">.</span><span class="id">onclick</span> <span class="k">&lt;-</span> <span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
    <span class="k">let</span> <span class="id">newCard</span> <span class="o">=</span> <span class="o">!!</span><span class="id">MyCard</span><span class="pn">.</span><span class="id">create</span> <span class="s">&quot;Exodia&quot;</span>
    <span class="id">deck</span><span class="pn">.</span><span class="id">putOnTopOfDeck</span> <span class="pn">[|</span><span class="id">newCard</span><span class="pn">|]</span>
    <span class="id">console</span><span class="pn">.</span><span class="id">log</span> <span class="id">deck</span><span class="pn">.</span><span class="id">length</span>
</code></pre>
<p><img src="../img/How2Fable_example3.png" alt="Fable example ignoring type safety button" /></p>
<p>This is an extreme example on how JS and F# will interact through Fable. By ignoring the F# typesafety with <code>!!</code> or
using dynamic casting we make our code error-prone. It would be better to write the bindings in a way to directly work with the intended card type,
as all functions will work independently of the card type used.</p>
<p>Using existing JS libraries for Fable applications can safe a lot of time, so knowing how to use the â€“ often â€“ excellent work of other
programmers is valuable know-how... and result in less time wasted recreating already existing libraries.</p>
<h2><a name="Further-reading" class="anchor" href="#Further-reading">Further reading</a></h2>
<ul>
<li><a href="https://fable.io/docs/">Official Fable docs</a></li>
<li><a href="https://www.compositional-it.com/news-blog/">Computational IT Blogs</a></li>
</ul>
<p>Blogpost ressources</p>
<ul>
<li><a href="https://fable.io/repl/">Fable REPL</a></li>
<li><a href="https://fable.io/docs/dotnet/compatibility.html">Fable compatible F# Core libraries</a></li>
<li><a href="https://fable.io/resources.html#Libraries">Fable compatible community ressources</a></li>
<li><a href="https://www.npmjs.com/package/shuffle">Shuffle</a></li>
<li><a href="https://safe-stack.github.io/docs/intro/">SAFE stack</a></li>
</ul>

                </div>
            </div>
        </div>
        <div class="fsdocs-tip" id="fs1">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to signed 32-bit integer. This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Int32.Parse()&lt;/c&gt;  
 with InvariantCulture settings. Otherwise the operation requires an appropriate
 static conversion method on the input type.&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted int&lt;/returns&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type int = int32<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type int&lt;&#39;Measure&gt; =
  int<br /><em>&lt;summary&gt;The type of 32-bit signed integer numbers, annotated with a unit of measure. The unit
 of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to 
 &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />val string : value:&#39;T -&gt; string<br /><em>&lt;summary&gt;Converts the argument to a string using &lt;c&gt;ToString&lt;/c&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;For standard integer and floating point values the and any type that implements &lt;c&gt;IFormattable&lt;/c&gt;&lt;c&gt;ToString&lt;/c&gt; conversion uses &lt;c&gt;CultureInfo.InvariantCulture&lt;/c&gt;. &lt;/remarks&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted string.&lt;/returns&gt;</em><br /><br />--------------------<br />type string = System.String<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.String&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs3">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><em>&lt;summary&gt;Print to &lt;c&gt;stdout&lt;/c&gt; using the given format, and add a newline.&lt;/summary&gt;<br />&lt;param name=&quot;format&quot;&gt;The formatter.&lt;/param&gt;<br />&lt;returns&gt;The formatted result.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs4">namespace System</div>
<div class="fsdocs-tip" id="fs5">Multiple items<br />type Random =
  new : unit -&gt; unit + 1 overload
  member Next : unit -&gt; int + 2 overloads
  member NextBytes : buffer: byte [] -&gt; unit + 1 overload
  member NextDouble : unit -&gt; float
  member NextInt64 : unit -&gt; int64 + 2 overloads
  member NextSingle : unit -&gt; float32
  member Sample : unit -&gt; float
  static member Shared : Random<br /><em>&lt;summary&gt;Represents a pseudo-random number generator, which is an algorithm that produces a sequence of numbers that meet certain statistical requirements for randomness.&lt;/summary&gt;</em><br /><br />--------------------<br />System.Random() : System.Random<br />System.Random(Seed: int) : System.Random</div>
<div class="fsdocs-tip" id="fs6">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><em>&lt;summary&gt;Print to a string using the given format.&lt;/summary&gt;<br />&lt;param name=&quot;format&quot;&gt;The formatter.&lt;/param&gt;<br />&lt;returns&gt;The formatted result.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs7">namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs8">module Seq

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.seq`1&quot; /&gt;.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs9">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to 64-bit float. This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Double.Parse()&lt;/c&gt;  
 with InvariantCulture settings. Otherwise the operation requires an appropriate
 static conversion method on the input type.&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted float&lt;/returns&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type float = System.Double<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Double&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type float&lt;&#39;Measure&gt; =
  float<br /><em>&lt;summary&gt;The type of double-precision floating point numbers, annotated with a unit of measure. 
 The unit of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to 
 &lt;see cref=&quot;T:System.Double&quot; /&gt;.&lt;/summary&gt;<br />&lt;category index=&quot;6&quot;&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs10">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;Value of type &#39;T&quot;&lt;/summary&gt;<br />&lt;param name=&quot;Value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;An option representing the value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs11">Multiple items<br />module List

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.list`1&quot; /&gt;.&lt;/summary&gt;<br />&lt;namespacedoc&gt;&lt;summary&gt;Operations for collections such as lists, arrays, sets, maps and sequences. See also 
    &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/fsharp-collection-types&quot;&gt;F# Collection Types&lt;/a&gt; in the F# Language Guide.
 &lt;/summary&gt;&lt;/namespacedoc&gt;</em><br /><br />--------------------<br />type List&lt;&#39;T&gt; =
  | ( [] )
  | ( :: ) of Head: &#39;T * Tail: &#39;T list
    interface IReadOnlyList&lt;&#39;T&gt;
    interface IReadOnlyCollection&lt;&#39;T&gt;
    interface IEnumerable
    interface IEnumerable&lt;&#39;T&gt;
    member GetReverseIndex : rank:int * offset:int -&gt; int
    member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list
    static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list
    member Head : &#39;T
    member IsEmpty : bool
    member Item : index:int -&gt; &#39;T with get
    ...<br /><em>&lt;summary&gt;The type of immutable singly-linked lists.&lt;/summary&gt;<br />&lt;remarks&gt;Use the constructors &lt;c&gt;[]&lt;/c&gt; and &lt;c&gt;::&lt;/c&gt; (infix) to create values of this type, or
 the notation &lt;c&gt;[1;2;3]&lt;/c&gt;. Use the values in the &lt;c&gt;List&lt;/c&gt; module to manipulate 
 values of this type, or pattern match against the values directly.
 &lt;/remarks&gt;<br />&lt;exclude /&gt;</em></div>
<div class="fsdocs-tip" id="fs12">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><em>&lt;summary&gt;Builds a new collection whose elements are the results of applying the given function
 to each of the elements of the collection.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform elements from the input list.&lt;/param&gt;<br />&lt;param name=&quot;list&quot;&gt;The input list.&lt;/param&gt;<br />&lt;returns&gt;The list of transformed elements.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs13">module String

from Microsoft.FSharp.Core<br /><em>&lt;summary&gt;Functional programming operators for string processing.  Further string operations
 are available via the member functions on strings and other functionality in
  &lt;a href=&quot;http://msdn2.microsoft.com/en-us/library/system.string.aspx&quot;&gt;System.String&lt;/a&gt; 
 and &lt;a href=&quot;http://msdn2.microsoft.com/library/system.text.regularexpressions.aspx&quot;&gt;System.Text.RegularExpressions&lt;/a&gt; types.
 &lt;/summary&gt;<br />&lt;category&gt;Strings and Text&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs14">val concat : sep:string -&gt; strings:seq&lt;string&gt; -&gt; string<br /><em>&lt;summary&gt;Returns a new string made by concatenating the given strings
 with separator &lt;c&gt;sep&lt;/c&gt;, that is &lt;c&gt;a1 + sep + ... + sep + aN&lt;/c&gt;.&lt;/summary&gt;<br />&lt;param name=&quot;sep&quot;&gt;The separator string to be inserted between the strings
 of the input sequence.&lt;/param&gt;<br />&lt;param name=&quot;strings&quot;&gt;The sequence of strings to be concatenated.&lt;/param&gt;<br />&lt;returns&gt;A new string consisting of the concatenated strings separated by
 the separation string.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when &lt;c&gt;strings&lt;/c&gt; is null.&lt;/exception&gt;</em></div>
<div class="fsdocs-tip" id="fs15">val failwith : message:string -&gt; &#39;T<br /><em>&lt;summary&gt;Throw a &lt;see cref=&quot;T:System.Exception&quot; /&gt; exception.&lt;/summary&gt;<br />&lt;param name=&quot;message&quot;&gt;The exception message.&lt;/param&gt;<br />&lt;returns&gt;The result value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs16">type obj = System.Object<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Object&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs17">type unit = Unit<br /><em>&lt;summary&gt;The type &#39;unit&#39;, which has only one value &quot;()&quot;. This value is special and
 always uses the representation &#39;null&#39;.&lt;/summary&gt;<br />&lt;category index=&quot;1&quot;&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs18">val set : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><em>&lt;summary&gt;Builds a set from a sequence of objects. The objects are indexed using generic comparison.&lt;/summary&gt;<br />&lt;param name=&quot;elements&quot;&gt;The input sequence of elements.&lt;/param&gt;<br />&lt;returns&gt;The created set.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs19">type &#39;T option = Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The type of optional values. When used from other CLI languages the
 empty option is the &lt;c&gt;null&lt;/c&gt; value. &lt;/summary&gt;<br />&lt;remarks&gt;Use the constructors &lt;c&gt;Some&lt;/c&gt; and &lt;c&gt;None&lt;/c&gt; to create values of this type.
 Use the values in the &lt;c&gt;Option&lt;/c&gt; module to manipulate values of this type,
 or pattern match against the values directly.

 &#39;None&#39; values will appear as the value &lt;c&gt;null&lt;/c&gt; to other CLI languages.
 Instance methods on this type will appear as static methods to other CLI languages
 due to the use of &lt;c&gt;null&lt;/c&gt; as a value representation.&lt;/remarks&gt;<br />&lt;category index=&quot;3&quot;&gt;Options&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs20">union case Option.None: Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;No value&quot;&lt;/summary&gt;</em></div>

    </div>

    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <script type="text/javascript">var fsdocs_search_baseurl = '/CSBlog/'</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
    <script type="text/javascript" src="/CSBlog/content/fsdocs-search.js"></script>
    <!-- END SEARCH BOX: this adds support for the search box -->
</body>
<footer>
    <script>
        bulmaCollapsible.attach('.is-collapsible');
    </script>
</footer>
</html>